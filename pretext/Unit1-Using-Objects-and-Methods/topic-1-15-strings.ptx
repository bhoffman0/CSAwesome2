<?xml version="1.0"?>
<!-- Generated by Docutils 0.17.1 -->
<section>
  <introduction>
    <title>Strings</title>
    <p>
      <term>* ADD IN 2-7 STRING METHODS *</term>
    </p>
    <p><term>Strings</term> in Java are objects of the <c>String</c> class that hold sequences of characters (a, b, c, $, etc). Remember that a class (or classification) in Java defines the data that all objects of the class have (the fields) and the behaviors, the things that objects know how to do (the methods).</p>
    <p>You can declare a variable to be of type <c>String</c>.</p>
    <note>
      <p>Class names in Java, like <c>String</c>, begin with a capital letter.  All primitive types: <c>int</c>, <c>double</c>, and <c>boolean</c>, begin with a lowercase letter.  This is one easy way to tell the difference between primitive types and class types.</p>
    </note>
    <p>The code above declares an object variable named <c>greeting</c> and sets the value of greeting to the Java keyword <c>null</c> to show that it doesn&#x2019;t refer to any object yet.  So <c>System.out.println(greeting);</c> will print <c>null</c>.</p>
    <p>Object variables <term>refer</term> to objects in memory.  A reference is a way to find the actual object, like adding a contact to your phone lets you reach someone without knowing exactly where they are.  The value of greeting is null since the string object has not been created yet.</p>
    <figure align="center" xml:id="id1-4">
      <caption xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">Figure 1: Initial value for an object reference</caption>
      <image source="Unit1-Using-Objects-and-Methods/Figures/greeting.png" width="NaN%"/>
    </figure>
    <p xml:id="_index-1-1">In Java there are two ways to create an object of the <c>String</c> class.  You can use the <c>new</c> keyword followed by a space and then the class constructor and then in parentheses you can include values used to initialize the fields of the object.  This is the standard way to create a new object of a class in Java.</p>
    <program language="java">
      <input>
String greeting = new String("Hello");
</input>
    </program>
    <p xml:id="_index-2-1">In Java you can also use just a <term>string literal</term>, which is a set of characters enclosed in double quotes (<c>"</c>), to create a <c>String</c> object.</p>
    <program language="java">
      <input>
String greeting = "Hello";
</input>
    </program>
    <p>In both cases an object of the <c>String</c> class will be created in memory and the value of the variable greeting will be set to an object reference, a way to find that object.</p>
    <p>
      <problematic xml:id="_id4-1" refid="id3">|CodingEx|</problematic>
      <term>Coding Exercise:</term>
    </p>
    <p xml:id="_index-3">The code above will first print <c>class java.lang.String</c> since <c>greeting</c> was created by the <c>String</c> class.  The full name for the <c>String</c> class is <c>java.lang.String</c>.  The <c>java.lang</c> part is the <term>package</term> name.  Every class in the Java language is in a package and the standard classes like <c>String</c> are in the <c>java.lang</c> package.  Every object in Java knows the class that created it.  Also, every class knows its <term>parent</term> class.  Yes, a class can have a parent class, just as people have parents.  But, in Java a class can only have one parent.  A class can <c>inherit</c> object fields and methods from a parent class, just like you might inherit musical ability from a parent.  The last print statement will print <c>class java.lang.Object</c> because the parent class (<term>superclass</term>) of the String class is the Object class.  All classes in Java inherit from the Object class at some point in their ancestry.</p>
    <figure align="center" xml:id="id2-3">
      <caption xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">Figure 2: Object variable of type String with a reference to a String object which has a reference to the String class which has a reference to the Object class.</caption>
      <image source="Unit1-Using-Objects-and-Methods/Figures/stringObject.png" width="NaN%"/>
    </figure>
  </introduction>
  <subsection xml:id="_string-operators-concatenation">
    <title>String Operators - Concatenation</title>
    <p xml:id="_index-4"><c>String</c>s can be added to each other to create a new string using the <c>+</c>
                or <c>+=</c> operator . This is also called <term>appending</term> or <term>concatenating</term>. You
                can also add any other kind of value to a <c>String</c> with <c>+</c> or <c>+=</c> and
                the other value will be converted to a <c>String</c> automatically. Objects are
                converted by calling their <c>toString</c> method which we&#x2019;ll talk about in section
                5.4.</p>
    <p>Remember, however, that <c>String</c>s are immutable, just like <c>int</c>s and
                <c>double</c>s. So when we add two <c>String</c>s (or a <c>String</c> and another
                value converted to a <c>String</c>) we get a new <c>String</c> without making any
                change to the values being added together just like when we add <title_reference>1 + 2</title_reference> the
                original <title_reference>1</title_reference> and <title_reference>2</title_reference> aren&#x2019;t changed. When we use <c>+=</c> we are making a new
                <c>String</c> by adding something to the current value of a variable and then
                assigning that new value back into the variable, again just like with numbers.</p>
    <exercise label="lcso1">
      <statement>
        <p>Try the following code. Add another variable for a lastname that is &#x201C;Hernandez&#x201D;. Use += or + to add the lastname variable after name to the result. Use += or + to add 2 more exclamation points (!) to the end of the happy birthday greeting in result.</p>
      </statement>
      <program xml:id="lcso1_editor" interactive="activecode" language="java">
        <input>
public class Test1
{
    public static void main(String[] args)
    {
        String start = "Happy Birthday";
        String name = "Jose";
        String result = start + " " + name; // add together strings
        result += "!"; // add on to the same string
        System.out.println(result);
    }
}

====
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "Happy Birthday Jose Hernandez!!!";
        boolean passed = getResults(expect, output, "Expected output from main");
        assertTrue(passed);
    }
}
        </input>
      </program>
    </exercise>
    <note>
      <p>Note that spaces are not added between strings automatically.  If you want a space between two strings then add one using + &#x201D; &#x201D; +. If you forget to add spaces, you will get smushed output like &#x201C;HiJose&#x201D; instead of &#x201C;Hi Jose&#x201D;.  And remember that variables are never put inside the quotes (&#x201C;&#x201D;) since this would print the variable name out letter by letter instead of its value.</p>
    </note>
    <p>
      <problematic xml:id="_id6-1" refid="id5">|Exercise|</problematic>
      <term>Check Your Understanding</term>
    </p>
    <exercise label="qse_1">
      <statement>
        <p>1-15-5: Given the following code segment, what is in the string referenced by s1?</p>
        <program language="java">
          <input>
String s1 = "xy";
String s2 = s1;
s1 = s1 + s2 + "z";
</input>
        </program>
      </statement>
      <choices>
        <choice>
          <statement>
            <p>xyz</p>
          </statement>
          <feedback>
            <p>s1 will equal "xy" plus another "xy" then z at the end.</p>
          </feedback>
        </choice>
        <choice correct="yes">
          <statement>
            <p>xyxyz</p>
          </statement>
          <feedback>
            <p>s1 contains the original value, plus itself, plus "z"</p>
          </feedback>
        </choice>
        <choice>
          <statement>
            <p>xy xy z</p>
          </statement>
          <feedback>
            <p>No spaces are added during concatenation.</p>
          </feedback>
        </choice>
        <choice>
          <statement>
            <p>xy z</p>
          </statement>
          <feedback>
            <p>No spaces are added during concatenation, and an additional "xy" should be included at the beginning.</p>
          </feedback>
        </choice>
        <choice>
          <statement>
            <p>z</p>
          </statement>
          <feedback>
            <p>s1 was set to "xy" initially, so the final answer will be "xyxyz"</p>
          </feedback>
        </choice>
      </choices>
    </exercise>
    <p xml:id="_index-5">You can even add other items to a string using the <c>+</c> operator. Primitive
                values like <c>int</c> and <c>boolean</c> will be converted to a <c>String</c> like what
                you would type into a Java program and objects will be converted to <c>String</c> using the
                <c>toString</c> method discussed in the previous section. All objects inherit a
                <c>toString</c> method that returns a <c>String</c> representation of the object and
                many classes <term>override</term> it to produce a useful human-readable value. (We&#x2019;ll
                talk about overriding in detail in Unit 9.)</p>
    <p>
      <problematic xml:id="_id8-1" refid="id7">|CodingEx|</problematic>
      <term>Coding Exercise:</term>
    </p>
    <exercise label="lcso2">
      <statement>
        <p>What do you think the following will print? Guess before you hit run. If you want the addition to take place before the numbers are turned into a string what should you do? Try to modify the code  so that it adds 4 + 3 before appending the value to the string. Hint: you used this to do addition before multiplication in arithmetic expressions.</p>
      </statement>
      <program xml:id="lcso2_editor" interactive="activecode" language="java">
        <input>
public class Test2
{
    public static void main(String[] args)
    {
        String message = "12" + 4 + 3;
        System.out.println(message);
    }
}

====
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "127";
        boolean passed = getResults(expect, output, "Expected output from main");
        assertTrue(passed);
    }

    @Test
    public void testParen() throws IOException
    {
        String code = removeSpaces(getCodeWithoutComments());
        String expect = "(4+3)";
        boolean passed = code.contains(expect);

        passed = getResults("" + true, "" + passed, "Checking code for added parentheses");
        assertTrue(passed);
    }
}
        </input>
      </program>
    </exercise>
    <note>
      <p>If you are appending a number to a string it will be converted to a string first before being appended.</p>
    </note>
    <p>Since the same operators are processed from left to right this will print <c>1243</c>.  First 4 will be turned into a string and appended to 12 and then 3 will be turned into a string and appended to 124.  If you want to do addition instead, try using parentheses!</p>
    <p>What if you wanted to print out a double quote &#x201D; character? Since the double quote &#x201D; is a special character with meaning in Java, we put in a backslash in front of the quote to signal that we want just the character. This is called a <term>backslash escape sequence</term>. And if you wanted to print out a backslash, you would have to backslash it too in order to escape its special meaning. Another useful backslashed character is backslash \n which will put in a newline.</p>
    <exercise label="bhescape">
      <statement>
        <p>Here are the escape sequences that may be used in the AP course.</p>
      </statement>
      <program xml:id="bhescape_editor" interactive="activecode" language="java">
        <input>
public class TestEscape
{
    public static void main(String[] args)
    {
        String message =
                "Here is a backslash quote \" "
                        + " and a backslashed backslash (\\) "
                        + "Backslash n \n prints out a new line.";
        System.out.println(message);
    }
}

====
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = output;
        boolean passed = getResults(expect, output, "Expected output from main", true);
        assertTrue(passed);
    }
}
        </input>
      </program>
    </exercise>
  </subsection>
  <subsection xml:id="_groupwork-programming-challenge-mad-libs">
    <title><problematic xml:id="_id10-1" refid="id9">|Groupwork|</problematic> Programming Challenge : Mad Libs</title>
    <p>Have you ever played MAD LIBS? In this game, you first choose a bunch of words without looking at the story and then those words are filled into the story to make it sound very wacky! Fill in the variables below with Strings for each word, and then run to see the wacky story.</p>
    <p>Then, working in pairs, come up with another silly story that uses at least 5 new String variables. When you&#x2019;re done, try another team&#x2019;s mad libs code. Your teacher may ask you to create this program in a Java IDE like <raw format="html" xml:space="preserve">&lt;a href="https://replit.com" target="_blank"&gt;replit.com&lt;/a&gt;</raw> so that you can use input to read in the words (see input examples using the <raw format="html" xml:space="preserve">&lt;a href="https://www.w3schools.com/java/java_user_input.asp" target="_blank"&gt;Scanner class&lt;/a&gt;</raw>).</p>
    <exercise label="challenge2-6-MadLibs">
      <statement>
        <p>If you used replit.com for this challenge, copy the url of your repl here to turn in.</p>
      </statement>
      <program xml:id="challenge2-6-MadLibs_editor" interactive="activecode" language="java">
        <input>
public class MadLibs1
{
    public static void main(String[] args)
    {
        // fill these in with silly words/strings (don't read the poem yet)
        String pluralnoun1 = null;
        String color1 = null;
        String color2 = null;
        String food = null;
        String pluralnoun2 = null;


        // Run to see the silly poem!
        System.out.println("Roses are " + color1);
        System.out.println(pluralnoun1 + " are " + color2);
        System.out.println("I like " + food);
        System.out.println("Do " + pluralnoun2 + " like them too?");

        // Now come up with your own silly poem!
    }
}
====
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "Roses are *\n* are *\nI like *\nDo * like them too?";

        boolean passed = getResultsRegEx(expect, output, "Expected output from main");
        assertTrue(passed);
    }

    @Test
    public void testNull() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "null";

        String actual = countOccurences(output, expect) + " null values";

        boolean passed = getResults("0 null values", actual, "No null values");
        assertTrue(passed);
    }
}
        </input>
      </program>
    </exercise>
  </subsection>
  <subsection xml:id="_summary-5">
    <title>Summary</title>
    <p>
      <ul>
        <li>
          <p><term>Strings</term> in Java are objects of the <c>String</c> class that hold sequences of characters.</p>
        </li>
        <li>
          <p>String objects can be created by using string literals (String s = &#x201C;hi&#x201D;;) or by calling the String class constructor (String t = new String(&#x201C;bye&#x201D;);).</p>
        </li>
        <li>
          <p><term>new</term> is used to create a new object of a class.</p>
        </li>
        <li>
          <p><term>null</term> is used to indicate that an object reference doesn&#x2019;t refer to any object yet.</p>
        </li>
        <li>
          <p>String objects can be concatenated using the <c>+</c> or <c>+=</c> operator, resulting in a new String object.</p>
        </li>
        <li>
          <p>Primitive values can be concatenated with a String object. This causes implicit conversion of the values to String objects.</p>
        </li>
        <li>
          <p>Escape sequences start with a backslash <c>\</c> and have special meaning in Java. Escape sequences used in this course include <c>\"</c>, <c>\\</c>, and  <c>\n</c> to print out a quote, backslash, and a new line.</p>
        </li>
      </ul>
    </p>
  </subsection>
  <exercises>
    <exercise label="lcsb1">
      <statement>
        <p>Run the following code.  What does it print?</p>
      </statement>
      <program xml:id="lcsb1_editor" interactive="activecode" language="java">
        <input>
public class Test1
{
    public static void main(String[] args)
    {
        String greeting = null;
        System.out.println(greeting);
    }
}

====
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "null";
        boolean passed = getResults(expect, output, "Expected output from main", true);
        assertTrue(passed);
    }
}
        </input>
      </program>
    </exercise>
    <exercise label="lcsbnew">
      <statement>
        <p>Here is an active code sample that creates two greeting strings: one using a string literal and the other using new and the String constructor. Change the code to add 2 new strings called firstName and lastName, one using a string literal and the other using new, and print them out with the greetings.</p>
      </statement>
      <program xml:id="lcsbnew_editor" interactive="activecode" language="java">
        <input>
public class StringTest
{
    public static void main(String[] args)
    {
        String greeting1 = "Hello!";
        String greeting2 = new String("Welcome!");
        System.out.println(greeting1);
        System.out.println(greeting2);
    }
}

 ====
 import static org.junit.Assert.*;

 import org.junit.*;

 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     @Test
     public void testChangedCode()
     {
         String origCode =
                 "public class StringTest {      public static void main(String[] args)      {"
                         + " String greeting1 = \"Hello!\";        String greeting2 = new"
                         + " String(\"Welcome!\"); System.out.println(greeting1);"
                         + " System.out.println(greeting2); }    }";
         boolean changed = codeChanged(origCode);
         assertTrue(changed);
     }
 }
        </input>
      </program>
    </exercise>
    <exercise label="lcsb2">
      <statement>
        <p>Now that greeting refers to an actual object we can ask the object what class created it. Try the following.  What does it print?</p>
      </statement>
      <program xml:id="lcsb2_editor" interactive="activecode" language="java">
        <input>
public class Test2
{
    public static void main(String[] args)
    {
        String greeting = "Hello";
        Class currClass = greeting.getClass();
        System.out.println(currClass);
        Class parentClass = currClass.getSuperclass();
        System.out.println(parentClass);
    }
}

====
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "class java.lang.String\nclass java.lang.Object";
        boolean passed = getResults(expect, output, "Expected output from main", true);
        assertTrue(passed);
    }
}
        </input>
      </program>
    </exercise>
  </exercises>
</section>
