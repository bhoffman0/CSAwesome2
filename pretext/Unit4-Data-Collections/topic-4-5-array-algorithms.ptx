<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="topic-4-5-array-algorithms">
  <time minutes="90" />
  <title>Implementing Array Algorithms</title>
  <introduction>
    <idx>array</idx>
    <idx>algorithms</idx>
    <idx>
      <h>array</h><h>algorithms</h>
    </idx>

    <idx>
      <h>array</h><h>FRQ</h>
    </idx>

    <idx>loop algorithms</idx>
    <idx>accumulator</idx>
    <idx>sum</idx>
    <idx>average</idx>
    <idx>minimum</idx>
    <idx>maximum</idx>
    <idx>search</idx>
    <idx>frequency</idx>
    <idx>property</idx>
    <idx>shift</idx>
    <idx>rotate</idx>
    <idx>reverse</idx>
    <idx>pairs</idx>
    <idx>duplicates</idx>
    <p>
      In this lesson, you will study common algorithms using arrays and loops
      and practice FRQ (Free Response Question) problems.
    </p>

    <p>
      Here are some common algorithms that utilize array traversal that you
      should be familiar with for the AP CSA exam (AP 4.5.A.1):
    </p>

    <p>
      <ul>
        <li>
          <p>Compute a sum or average of array elements</p>
        </li>

        <li>
          <p>Determine the minimum or maximum value in an array</p>
        </li>

        <li>
          <p>Search for a particular element in the array</p>
        </li>

        <li>
          <p>Determine if at least one element has a particular property</p>
        </li>

        <li>
          <p>Determine if all elements have a particular property</p>
        </li>

        <li>
          <p>Determine the number of elements having a particular property</p>
        </li>

        <li>
          <p>Access all consecutive pairs of elements</p>
        </li>

        <li>
          <p>Determine the presence or absence of duplicate elements</p>
        </li>

        <li>
          <p>Shift or rotate elements left or right</p>
        </li>

        <li>
          <p>Reverse the order of the elements</p>
        </li>
      </ul>
    </p>
  </introduction>

  <subsection xml:id="accumulator-pattern-for-sum-average-1">
    <title>Accumulator Pattern for Sum/Average</title>
    <p>
      As we have seen before with loops, the <term>accumulator pattern</term> is
      an algorithm that iterates through a set of values using a loop and
      updates an accumulator variable with those values, for example to compute
      a sum or average of a set of values. The accumulator pattern has 4 steps:
    </p>

    <p>
      <ol marker="1">
        <li>
          <p>Initialize the accumulator variable before the loop.</p>
        </li>

        <li>
          <p>Loop through the values.</p>
        </li>

        <li>
          <p>Update the accumulator variable inside the loop.</p>
        </li>

        <li>
          <p>Print or use the accumulated value when the loop is done.</p>
        </li>
      </ol>
    </p>

    <p>
      With arrays, the accumulator pattern is used to compute the sum or average
      of the elements in the array. The sum is the total of all the elements in
      the array, and the average is the sum divided by the number of elements in
      the array.
    </p>

    <p>For example,</p>
    <program language="java">
      <code>
int[] values = {6, 2, 1, 7, 12, 5};
double sum = 0;
for (int val : values)
{
    sum += val;
}
double average = sum / values.length;
System.out.println("Average is " + average);
      </code>
    </program>

    <activity label="parsons_array_avg" numbered="yes" adaptive="yes" indentation="show" language="java">
      <statement>
        <p>
          The following program has the correct code to return the average of
          the first 3 items in the array a, but the code is mixed up. Drag the
          blocks from the left into the correct order on the right. You will be
          told if any of the blocks are in the wrong order or are indented
          incorrectly.
        </p>
      </statement>

      <blocks>
        <block order="2">
          <cline>public static double avg3(int[] a)</cline>
          <cline>{</cline>
        </block>

        <block order="6">
          <cline>  double total = 0;</cline>
        </block>

        <block order="1">
          <cline>  for (int i = 0; i &lt; a.length &amp;&amp; i &lt; 3; i++)</cline>
          <cline>  {</cline>
        </block>

        <block order="3">
          <cline>    total = total + a[i];</cline>
        </block>

        <block order="5">
          <cline>  } // end for</cline>
          <cline>  return total / 3;</cline>
        </block>

        <block order="4">
          <cline>} // end method</cline>
        </block>
      </blocks>
    </activity>

    <p>
      Here is an object-oriented example that has the array as a private
      instance variable in the class and provides public methods sum and average
      that use enhanced for loops. You can use the Code Lens button to step
      through this code.
    </p>

    <activity label="enhanced-for-loop-avg">
      <statement>
        <p>
          Try the code below that computes the average of the elements in the
          array. Can you add another method to compute the sum of the elements?
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class ArrayWorker
{
    private int[] values;

    public ArrayWorker(int[] theValues)
    {
        values = theValues;
    }

    public double getSum()
    {
         // TODO: Write a loop that computes and returns
         // the sum of the elements in the array


    }
    public double getAverage()
    {
        double total = 0;
        for (int val : values)
        {
            total = total + val;
        }
        return total / values.length;
    }

    public static void main(String[] args)
    {
        int[] numArray = {2, 6, 7, 12, 5};
        ArrayWorker aWorker = new ArrayWorker(numArray);
        System.out.println(aWorker.getAverage());
        System.out.println(aWorker.getSum());
    }
}
        </code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("ArrayWorker");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "6.4\n32.0\n";

        boolean passed = getResults(expect, output, "Output from main");
        assertTrue(passed);
    }
    @Test
    public void testFor()
     {
          String code = getCode();

          int fors = countOccurences(code, "for");

          boolean passed =
                  getResults(
                          "2 for loops", fors + " for loops", "for loop used in getSum");
          assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>
  </subsection>

  <subsection xml:id="min-max-search-algorithms">
    <title>Min, Max, Search Algorithms</title>
    <p>
      In the last lesson, you wrote a spell check algorithm which searched for a
      word in an array of dictionary words. Searching for the minimum or maximum
      follows a similar pattern of a loop with an if statement inside it. The
      pattern to follow is an enhanced for loop or an indexed for loop, with an
      embedded if statement. Remember that enhanced for loops cannot be used to
      modify primitive values in an array or to return an index.
    </p>

    <program language="java">
      <code>
for (int value : array)
{
    if (value ....)
        ...
}

for(int i=0; i &lt; array.length; i++)
{
   if (array[i] ....)
       ...
}
      </code>
    </program>

    <activity label="parsons_for_each_largest" numbered="yes" adaptive="yes" indentation="show" language="java">
      <statement>
        <p>
          The following method has the correct code to return the largest value
          in an integer array called <title_reference>vals</title_reference> (an
          instance variable of the current object), but the code is mixed up.
          Drag the blocks from the left into the correct order on the right and
          indent them correctly as well. You will be told if any of the blocks
          are in the wrong order or not indented correctly.
        </p>
      </statement>

      <blocks>
        <block order="6">
          <cline>public int getLargest()</cline>
          <cline>{</cline>
        </block>

        <block order="2">
          <cline>  int largest = vals[0];</cline>
        </block>

        <block order="3">
          <cline>  for (int item : vals)</cline>
          <cline>  {</cline>
        </block>

        <block order="4">
          <cline>    if (item &gt; largest)</cline>
          <cline>    {</cline>
        </block>

        <block order="8">
          <cline>      largest = item;</cline>
        </block>

        <block order="5">
          <cline>    }  // end if</cline>
        </block>

        <block order="1">
          <cline>  } // end for</cline>
          <cline>  return largest;</cline>
        </block>

        <block order="7">
          <cline>} // end method</cline>
        </block>
      </blocks>
    </activity>

    <p>
      If you want to step through the correct code to see what it does in the
      Java Visualizer click on the following <url
      href="http://www.pythontutor.com/java.html#code=public+class+ArrayWorker%0A%7B%0A+++private+int%5B+%5D+values%3B%0A%0A+++public+ArrayWorker(int%5B%5D+theValues)%0A+++%7B%0A++++++values+%3D+theValues%3B%0A+++%7D%0A%0A+++public+double+getAverage()%0A+++%7B%0A+++++double+total+%3D+0%3B%0A+++++for+(int+val+%3A+values)%0A+++++%7B%0A+++++++total++%3D+total+%2B+val%3B%0A+++++%7D%0A+++++return+total+/+values.length%3B%0A+++%7D%0A+++%0A+++public+int+getLargest()%0A+++%7B%0A++%0A+++++int+largest+%3D+values%5B0%5D%3B%0A%0A+++++for+(int+item+%3A+values)%0A+++++%7B%0A%0A+++++++if+(item+%3E+largest)%0A+++++++%7B%0A%0A+++++++++largest+%3D+item%3B%0A%0A+++++++%7D++//+end+if+%0A%0A+++++%7D+//+end+for%0A+++++return+largest%3B%0A%0A+++%7D+//+end+method%0A%0A+++public+static+void+main(String%5B%5D+args)%0A+++%7B%0A+++++int%5B%5D+numArray+%3D++%7B2,+6,+7,+12,+5%7D%3B%0A+++++ArrayWorker+aWorker+%3D+new+ArrayWorker(numArray)%3B%0A+++++System.out.println(aWorker.getLargest())%3B%0A+++%7D%0A%7D%0A%0A&amp;mode=display&amp;curInstr=0"
      visual="http://www.pythontutor.com/java.html#code=public+class+ArrayWorker%0A%7B%0A+++private+int%5B+%5D+values%3B%0A%0A+++public+ArrayWorker(int%5B%5D+theValues)%0A+++%7B%0A++++++values+%3D+theValues%3B%0A+++%7D%0A%0A+++public+double+getAverage()%0A+++%7B%0A+++++double+total+%3D+0%3B%0A+++++for+(int+val+%3A+values)%0A+++++%7B%0A+++++++total++%3D+total+%2B+val%3B%0A+++++%7D%0A+++++return+total+/+values.length%3B%0A+++%7D%0A+++%0A+++public+int+getLargest()%0A+++%7B%0A++%0A+++++int+largest+%3D+values%5B0%5D%3B%0A%0A+++++for+(int+item+%3A+values)%0A+++++%7B%0A%0A+++++++if+(item+%3E+largest)%0A+++++++%7B%0A%0A+++++++++largest+%3D+item%3B%0A%0A+++++++%7D++//+end+if+%0A%0A+++++%7D+//+end+for%0A+++++return+largest%3B%0A%0A+++%7D+//+end+method%0A%0A+++public+static+void+main(String%5B%5D+args)%0A+++%7B%0A+++++int%5B%5D+numArray+%3D++%7B2,+6,+7,+12,+5%7D%3B%0A+++++ArrayWorker+aWorker+%3D+new+ArrayWorker(numArray)%3B%0A+++++System.out.println(aWorker.getLargest())%3B%0A+++%7D%0A%7D%0A%0A&amp;mode=display&amp;curInstr=0">Java
      visualizer link</url>.
    </p>

    <activity label="minmax">
      <statement>
        <p>
          The code below finds the minimum (smallest element) in an array. Try
          it in the <url
          href="http://www.pythontutor.com/visualize.html#code=%20%20public%20class%20MinMax%0A%20%20%20%7B%20%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20int%5B%20%5D%20values%20%3D%20%7B6,%202,%201,%207,%2012,%205%7D%3B%0A%20%20%20%20%20%20%20%20int%20min%20%3D%20values%5B0%5D%3B%20//%20initialize%20min%20to%20the%20first%20element%0A%20%20%20%20%20%20%20%20for%20%28int%20val%20%3A%20values%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28val%20%3C%20min%29%20//%20found%20a%20new%20min!%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20min%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20System.out.println%28%22Min%20is%20%22%20%2B%20min%20%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D&amp;cumulative=false&amp;curInstr=20&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false&amp;curInstr=0"
          visual="http://www.pythontutor.com/visualize.html#code=%20%20public%20class%20MinMax%0A%20%20%20%7B%20%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20int%5B%20%5D%20values%20%3D%20%7B6,%202,%201,%207,%2012,%205%7D%3B%0A%20%20%20%20%20%20%20%20int%20min%20%3D%20values%5B0%5D%3B%20//%20initialize%20min%20to%20the%20first%20element%0A%20%20%20%20%20%20%20%20for%20%28int%20val%20%3A%20values%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28val%20%3C%20min%29%20//%20found%20a%20new%20min!%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20min%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20System.out.println%28%22Min%20is%20%22%20%2B%20min%20%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D&amp;cumulative=false&amp;curInstr=20&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false&amp;curInstr=0">Java
          visualizer</url> with the CodeLens button. Can you change it to find
          the maximum element instead? Can you also compute the average of the
          elements?
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class MinMax
{
    public static void main(String[] args)
    {
        int[] values = {6, 2, 1, 7, 12, 5};
        int min = values[0]; // initialize min to the first element
        for (int val : values)
        {
            if (val &lt; min) // found a new min!
            {
                min = val;
            }
        }
        System.out.println("Min is " + min);
    }
}
        </code>
        <tests>
// Test for Lesson MinMax
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("MinMax");

        int[] numArray = {2, 6, 7, 12, 5};
        setDefaultValues(new Object[] {numArray});
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "Max is 12";

        boolean passed = output.contains(expect);

        passed = getResults(expect, output, "Max element", passed);
        assertTrue(passed);
    }

    @Test
    public void test2()
    {
        String output = getMethodOutput("main");
        String expect = "Average is 5.5";

        boolean passed = output.contains(expect);

        passed = getResults(expect, output, "Average", passed);
        assertTrue(passed);
    }

    @Test
    public void test3()
    {
        boolean passed = checkCodeContains("if statement using val &gt;", "if (val &gt;");
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>

    <p>
      When searching for an element or a minimum or maximum, it is important not
      to leave the loop early before finding the correct value and not to
      replace the value with subsequent ones.
    </p>

    <activity label="early_return_error">
      <statement>
        <p>
          Run the following code. Does it find 7 in the array? Click on Code
          Lens to trace through the code to see why not. Fix the early return
          error in the following code.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class FindError
{
    public static boolean find(int[] array, int target)
    {
       for (int val : array)
       {
          if (val == target)
          {
              return true;
          }
          else
          {
              return false;
          }
       }
       return false;
   }

    public static void main(String[] args)
    {
        int[] values = {6, 2, 1, 7, 12, 5};
        System.out.println(find(values, 7));
    }
}
        </code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("FindError");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "true";

        boolean passed = (output.equals(expect));
        getResults(expect, output, "Testing main() output", passed);
        assertTrue(passed);
    }

    @Test
    public void test2()
    {
        int[] values = {-1, 0, 1};
        String output = "" + FindError.find(values, 0);
        String expect = "true";

        boolean passed = getResults(expect, output, "Testing find({-1, 0, 1}, 0)");
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>

    <activity label="mcq_array_error1">
      <statement>
        <p>
          Given that <c>array</c> is an array of integers and <c>target</c> is
          an integer value, which of the following best describes the conditions
          under which the following code segment will return false?
        </p>

        <program language="java">
          <code>
public boolean find(int[] array, int target)
{
    for (int val : array)
    {
        if (val == target)
        {
            return true;
        }
        else
        {
            return false;
        }
    }
    return false;
}
          </code>
        </program>
      </statement>

      <choices>
        <choice correct="yes">
          <statement>
            <p>
              Whenever the first element in <i>array</i> is not equal to
              <i>target</i>.
            </p>
          </statement>

          <feedback>
            <p>
              Yes, the loop returns as soon as checking the first element,
              whether it is equal to target or not. It needs to check the whole
              array before returning false. The else statement should not be
              included.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>
              Whenever <i>array</i> contains any element which equals
              <i>target</i>.
            </p>
          </statement>

          <feedback>
            <p>
              This would be true if the else statement was not there, but it
              returns false right away after just checking the first element
              instead of going through all of the elements to makes sure none of
              them are equal to target.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>Always</p>
          </statement>

          <feedback>
            <p>
              If the first element is equal to the target, it will return true.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>Never</p>
          </statement>

          <feedback>
            <p>
              It will return false with the else statement if the first element
              is not equal to the target.
            </p>
          </feedback>
        </choice>
      </choices>
    </activity>

    <activity label="mcq_array_error2">
      <statement>
        <p>
          Given that <c>array</c> is an array of integers and <c>target</c> is
          an integer value, which of the following best describes the conditions
          under which the following code segment will return true?
        </p>

        <program language="java">
          <code>
boolean temp = false;
for (int val : array)
{
  temp = ( target == val );
}
return temp;
          </code>
        </program>
      </statement>

      <choices>
        <choice>
          <statement>
            <p>
              Whenever the first element in <i>array</i> is equal to
              <i>target</i>.
            </p>
          </statement>

          <feedback>
            <p>
              This would be true if the loop started at the end of the array and
              moved toward the beginning. But, it will loop from the first
              element to the last.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>
              Whenever <i>array</i> contains any element which equals
              <i>target</i>.
            </p>
          </statement>

          <feedback>
            <p>
              This would be true if temp was only set to the result of checking
              if the current element in the array is equal to <i>target</i> when
              it is <i>false</i>. But, it is reset each time through the loop.
            </p>
          </feedback>
        </choice>

        <choice correct="yes">
          <statement>
            <p>
              Whenever the last element in <i>array</i> is equal to
              <i>target</i>.
            </p>
          </statement>

          <feedback>
            <p>
              The variable <i>temp</i> is assigned to the result of checking if
              the current element in the array is equal to <i>target</i>. The
              last time through the loop it will check if the last element is
              equal to <i>val</i>.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>
              Whenever only 1 element in <i>array</i> is equal to <i>target</i>.
            </p>
          </statement>

          <feedback>
            <p>
              There is no count of the number of times the array element is
              equal to <i>target</i>.
            </p>
          </feedback>
        </choice>
      </choices>
    </activity>
  </subsection>

  <subsection xml:id="looping-from-back-to-front">
    <title>Looping From Back to Front</title>
    <idx>
      <h>loop</h><h>from back to front</h>
    </idx>

    <p>
      You don’t have to loop through an array from the front to the back. You
      can loop by starting at the back of the array and move toward the front
      during each time through the loop. In the example below, the method
      <c>getIndexOfLastElementSmallerThanTarget</c> returns the index of the
      last element in the array that is smaller than the given argument. The
      <term>return</term> statement inside the loop stops the execution of the
      loop and the method and returns the index that is found immediately back
      to the main method. It returns -1 if there is no number in the array that
      is smaller than the given number.
    </p>

    <activity label="arrayFindSmaller">
      <statement>
        <p>
          What does the following code print out? Notice that the array and the
          target are passed in as arguments to the
          getIndexOfLastElementSmallerThanTarget method. Trace through it
          keeping track of the array values and the output. Then run it to see
          if you’re right. You can also try the code in the <url
          href="http://www.pythontutor.com/java.html#code=%20%20%20public%20class%20ArrayFindSmallest%0A%20%20%20%7B%0A%0A%20%20%20%20%20%20/**%20%40return%20index%20of%20the%20last%20number%20smaller%20than%20target%20*/%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20int%20getIndexOfLastElementSmallerThanTarget%28int%5B%20%5D%20values,%20int%20target%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20for%20%28int%20index%20%3D%20values.length%20-%201%3B%20index%20%3E%3D%200%3B%20index--%29%0A%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28values%5Bindex%5D%20%3C%20target%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20index%3B%0A%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20return%20-1%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%20%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20int%5B%5D%20theArray%20%3D%20%7B-30,%20-5,%208,%2023,%2046%7D%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2050%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2050%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2030%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2030%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2010%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2010%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%200%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,0%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%20-20%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,-20%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%20-30%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,-30%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false"
          visual="http://www.pythontutor.com/java.html#code=%20%20%20public%20class%20ArrayFindSmallest%0A%20%20%20%7B%0A%0A%20%20%20%20%20%20/**%20%40return%20index%20of%20the%20last%20number%20smaller%20than%20target%20*/%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20int%20getIndexOfLastElementSmallerThanTarget%28int%5B%20%5D%20values,%20int%20target%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20for%20%28int%20index%20%3D%20values.length%20-%201%3B%20index%20%3E%3D%200%3B%20index--%29%0A%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28values%5Bindex%5D%20%3C%20target%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20index%3B%0A%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20return%20-1%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%20%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20int%5B%5D%20theArray%20%3D%20%7B-30,%20-5,%208,%2023,%2046%7D%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2050%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2050%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2030%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2030%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%2010%3A%20%22%20%2B%20getIndexOfLastElementSmallerThanTarget%28theArray,%2010%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%200%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,0%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%20-20%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,-20%29%29%3B%0A%20%20%20%20%20%20%20%20%20System.out.println%28%22Last%20index%20of%20element%20smaller%20than%20-30%3A%20%22%20%2BgetIndexOfLastElementSmallerThanTarget%28theArray,-30%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">Java
          visualizer</url> with the Code Lens button. Can you add another method
          that finds the index of the last element greater than the target
          instead of smaller than the target and have main print out a test of
          it? Call this method getIndexOfLastElementGreaterThanTarget and give
          it 2 arguments and a return value like the method below.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class ArrayFindSmallest
{

    /**
     * @return index of the last number smaller than target
     */
    public static int getIndexOfLastElementSmallerThanTarget(int[] values, int target)
    {
        for (int index = values.length - 1; index &gt;= 0; index--)
        {
            if (values[index] &lt; target)
            {
               return index;
            }
        }
        return -1;
    }

    /**
     * Add a method called getIndexOfLastElementGreaterThanTarget
     *
     * @param int array
     * @param int target
     * @return index of the last number greater than target
     */
    public static void main(String[] args)
    {
        int[] theArray = {-30, -5, 8, 23, 46};
        System.out.println(
                "Last index of element smaller than 50: "
                        + getIndexOfLastElementSmallerThanTarget(theArray, 50));
        System.out.println(
                "Last index of element smaller than 30: "
                        + getIndexOfLastElementSmallerThanTarget(theArray, 30));
        System.out.println(
                "Last index of element smaller than 10: "
                        + getIndexOfLastElementSmallerThanTarget(theArray, 10));
        System.out.println(
                "Last index of element smaller than 0: "
                        + getIndexOfLastElementSmallerThanTarget(theArray, 0));
        System.out.println(
                "Last index of element smaller than -20: "
                        + getIndexOfLastElementSmallerThanTarget(theArray, -20));
        System.out.println(
                "Last index of element smaller than -30: "
                        + getIndexOfLastElementSmallerThanTarget(theArray, -30));
    }
}
        </code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("ArrayFindSmallest");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "Last index of element smaller than ";

        boolean passed = output.contains(expect);
        output = output.substring(0, output.indexOf("\n"));
        passed =
                getResults(
                        "Last index of element smaller than 50: 4",
                        output,
                        "Ran getIndexOfLastElementSmallerThanTarget",
                        passed);
        assertTrue(passed);
    }

    @Test
    public void test2()
    {
        int[] nums = {10, 50, 20, 30, 40, 20};
        Object[] args = {nums, 30};

        String output = getMethodOutput("getIndexOfLastElementGreaterThanTarget", args);
        String expect = "4";

        boolean passed =
                getResults(
                        expect,
                        output,
                        "getIndexOfLastElementGreaterThanTarget({10, 50, 20, 30, 40, 20}, 30)");
        assertTrue(passed);
    }

    @Test
    public void test3()
    {
        int[] nums = {10, 50, 20, 30, 40, 20};
        Object[] args = {nums, 100};

        String output = getMethodOutput("getIndexOfLastElementGreaterThanTarget", args);
        String expect = "-1";

        boolean passed =
                getResults(
                        expect,
                        output,
                        "getIndexOfLastElementGreaterThanTarget({10, 50, 20, 30, 40, 20}, 100)");
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>

    <activity label="mcq_array_loop1">
      <statement>
        <p>
          Given the following code segment (which is identical to the method
          above) what will be returned when you execute:
          <c>getIndexOfLastElementSmallerThanTarget(values,-13)</c>;
        </p>

        <program language="java">
          <code>
private int[ ] values = {-20, -15, 2, 8, 16, 33};

public static int getIndexOfLastElementSmallerThanTarget(int[ ] values, int compare)
{
   for (int i = values.length - 1; i &gt;=0; i--)
   {
      if (values[i] &lt; compare)
         return i;
   }
   return -1; // to show none found
}
          </code>
        </program>
      </statement>

      <choices>
        <choice>
          <statement>
            <p>-1</p>
          </statement>

          <feedback>
            <p>
              The method will only return -1 if no value in the array is less
              than the passed value.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>-15</p>
          </statement>

          <feedback>
            <p>
              The method returns the index of the first item in the array that
              is less than the value, not the value.
            </p>
          </feedback>
        </choice>

        <choice correct="yes">
          <statement>
            <p>1</p>
          </statement>

          <feedback>
            <p>
              Since the method loops from the back towards the front -15 is the
              last value in the array that is less than -13 and it is at index
              1.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>You will get an out of bounds error.</p>
          </statement>

          <feedback>
            <p>
              No, the method correctly starts the index at values.length - 1 and
              continues as long as i is greater than or equal to 0.
            </p>
          </feedback>
        </choice>
      </choices>
    </activity>

    <activity label="mcq_array_loop2">
      <statement>
        <p>
          Given the following code segment (which is not quite identical to the
          method above) what will be returned when you execute:
          <c>getIndexOfLastElementSmallerThanTarget(values, 7)</c>;
        </p>

        <program language="java">
          <code>
int[ ] values = {-20, -15, 2, 8, 16, 33};

public static int getIndexOfLastElementSmallerThanTarget(int[] values, int compare)
{
   for (int i = values.length; i &gt;=0; i--)
   {
      if (values[i] &lt; compare)
         return i;
   }
   return -1; // to show none found
}
          </code>
        </program>
      </statement>

      <choices>
        <choice>
          <statement>
            <p>-1</p>
          </statement>

          <feedback>
            <p>
              The method will only return -1 if no value in the array is less
              than the passed value.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>1</p>
          </statement>

          <feedback>
            <p>Check the starting index. Is it correct?</p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>2</p>
          </statement>

          <feedback>
            <p>Check the starting index. Is it correct?</p>
          </feedback>
        </choice>

        <choice correct="yes">
          <statement>
            <p>You will get an out of bounds error.</p>
          </statement>

          <feedback>
            <p>
              You can not start the index at the length of the array. You must
              start at the length of the array minus one. This is a common
              mistake.
            </p>
          </feedback>
        </choice>
      </choices>
    </activity>
  </subsection>

  <subsection xml:id="test-property">
    <title>Test Property</title>
    <p>
      Often we loop through an array to see if elements have a particular
      property, for example all the elements are even or at least one is
      negative. On the AP exam, this property is often given as a boolean method
      to use in the if statement to:
    </p>

    <p>
      <ul>
        <li>
          <p>Determine if at least one element has a particular property</p>
        </li>

        <li>
          <p>Determine if all elements have a particular property</p>
        </li>

        <li>
          <p>Determine the number of elements having a particular property</p>
        </li>
      </ul>
    </p>

    <p>
      Here are some patterns. Note that determining if <em>all</em> have a
      certain property means that we need to check all elements before returning
      true, so we often have to check for the negation of the property to return
      false.
    </p>

    <program language="java">
      <code>
// see if at least one has the property
for (int val : values)
{
    if (isProperty(val))
    {
        return true;
    }
}
return false;

// see if all have the property
for (int val : values)
{
    if (!isProperty(val))
    {
        return false;
    }
}
return true;

// count the number of elements with the property
int count = 0;
for (int val : values)
{
    if (isProperty(val))
    {
        count++;
    }
}
      </code>
    </program>

    <activity label="parsons-even-array" numbered="yes" adaptive="yes" indentation="show" language="java">
      <statement>
        <p>
          The following program segment should count the number of elements in
          the array that are even using an enhanced for each loop. But, the
          blocks have been mixed up. Drag the blocks from the left and put them
          in the correct order on the right. Click the Check button to check
          your solution.
        </p>
      </statement>

      <blocks>
        <block order="2">
          <cline>int[] arr = {14, -5, 2, 17, 29, -8, 36};</cline>
          <cline>int count = 0;</cline>
        </block>

        <block order="1">
          <cline>for (int value : arr)</cline>
          <cline>{</cline>
        </block>

        <block order="3">
          <cline>    if (value % 2 == 0)</cline>
          <cline>    {</cline>
        </block>

        <block order="6">
          <cline>        count++;</cline>
        </block>

        <block order="5">
          <cline>    } //end conditional</cline>
        </block>

        <block order="4">
          <cline>} //end for loop</cline>
        </block>
      </blocks>
    </activity>

    <activity label="exAllOdd">
      <statement>
        <p>
          Write the method allOdd to return true if all the values in the array
          are odd. First write the helper function isEven to return true or
          false for one value, using %.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class Test1
{
    public static boolean isEven(int value)
    {
        // 1. TODO: return true if value is even, false otherwise
        return true;
    }

    public static boolean allOdd(int[] array)
    {
        // 2. TODO: Loop thru the array
        // and return false if any value isEven

        // if all odd, return true
        return true;
    }

    public static void main(String[] args)
    {
        int[] a1 = {1, 3, 6};
        int[] a2 = {1, 3, 5};
        System.out.println(allOdd(a1));
        System.out.println(allOdd(a2));
    }
}
        </code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "false\ntrue\n";

        boolean passed = getResults(expect, output, "Expected output from main");
        assertTrue(passed);
    }
    @Test
    public void testMethod()
    {
        int[] nums = {10, 20, 30, 40};
        Object[] args = {nums};

        String output = getMethodOutput("allOdd", args);
        String expect = "false";

        boolean passed = getResults(expect, output, "allOdd({10, 20, 30, 40})");
        assertTrue(passed);
    }
    @Test
    public void testMethod2()
    {
        int[] nums = {37,41,55,99};
        Object[] args = {nums};

        String output = getMethodOutput("allOdd", args);
        String expect = "true";

        boolean passed = getResults(expect, output, "allOdd({37,41,55,99})");
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>
  </subsection>

  <subsection xml:id="pairs-and-duplicates-in-array">
    <title>Pairs and Duplicates in Array</title>
    <p>
      Here is a pattern to check for duplicates in an array by accessing a pair
      of elements next to each other, <c>array[i]</c> and <c>array[i+1]</c>.
      Note that we need to use an indexed for loop to get access to the next
      element.
    </p>

    <program language="java">
      <code>
// check for duplicates next to each other
for (int i = 0; i &lt; values.length - 1; i++)
{
    if (values[i] == values[i + 1])
    {
        return true;
    }
}
return false;
      </code>
    </program>

    <p>
      If we want to check for duplicates anywhere in the array, we need to use a
      nested loop to compare all pairs of elements in the array.
    </p>

    <program language="java">
      <code>
// check for duplicates anywhere in the array
for (int i = 0; i &lt; values.length; i++)
{
    for (int j = i + 1; j &lt; values.length; j++)
    {
        if (values[i] == values[j])
        {
            return true;
        }
    }
}
return false;
      </code>
    </program>

    <activity label="sumPairs">
      <statement>
        <p>
          Create a method <c>sumPairs10(nums)</c> returns <c>true</c> if there
          are at least two items in the array <c>nums</c> that are adjacent
          (next to each other) that add up to 10, otherwise return <c>false</c>.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class Pairs
{
   public static boolean sumPairs10(int[] nums)
   {
       // TODO: if two adjacent numbers in nums add up to 10, return true


       return false;
   }

   public static void main(String[] args)
   {

      int[] nums1 = {1, 2, 8};
      System.out.println(sumPairs10(nums1));

      int[] nums2 = {2, 1, 2};
      System.out.println(sumPairs10(nums2));
   }

}
        </code>
        <tests>
import static org.junit.Assert.*;
import org.junit.Test;
import java.io.IOException;

public class RunestoneTests extends CodeTestHelper {
   public RunestoneTests()
   {
      super("Pairs");
    }

   @Test
   public void testMain() throws IOException {
      String output = getMethodOutput("main");
      String expect = "true\nfalse\n";
      boolean passed = getResults(expect, output, "Expected output from main");
      assertTrue(passed);
   }
   @Test
   public void testMethod2()
   {
         int[] nums = {2, 4, 6, 8};
         Object[] args = {nums};

         String output = getMethodOutput("sumPairs10", args);
         String expect = "true";

         boolean passed = getResults(expect, output, "sumPairs10({2, 4, 6, 8})");
         assertTrue(passed);
     }
}
        </tests>
      </program>
    </activity>

    <activity label="noDups">
      <statement>
        <p>
          Create a method <c>noDups(nums)</c> returns <c>true</c> if there are
          no repeated (duplicate) items in the array <c>nums</c>. It should
          return false if it does find a repeated element using nested loops.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class Pairs
{
   public static boolean noDups(int[] nums)
   {
       // TODO: use nested loops to check if any item appears more than once in nums


       return true;
   }

   public static void main(String[] args)
   {

      int[] nums1 = {1, 2, 8};
      System.out.println(noDups(nums1));

      int[] nums2 = {3, 3, 3};
      System.out.println(noDups(nums2));
   }
}
        </code>
        <tests>
import static org.junit.Assert.*;
import org.junit.Test;
import java.io.IOException;

public class RunestoneTests extends CodeTestHelper {
   public RunestoneTests()
   {
      super("Pairs");
   }

   @Test
   public void testMain() throws IOException {
      String output = getMethodOutput("main");
      String expect = "true\nfalse\n";
      boolean passed = getResults(expect, output, "Expected output from main");
      assertTrue(passed);
   }
   @Test
   public void testMethod2()
   {
         int[] nums = {2, 4, 6, 2};
         Object[] args = {nums};

         String output = getMethodOutput("noDups", args);
         String expect = "false";

         boolean passed = getResults(expect, output, "noDups({2, 4, 6, 2})");
         assertTrue(passed);
     }
}
        </tests>
      </program>
    </activity>
  </subsection>

  <subsection xml:id="rotating-array-elements">
    <title>Rotating Array Elements</title>
    <p>
      Rotating an array means shifting all the elements in the array to the
      right or left by one position. For example, if the array is {6, 2, 5, 3},
      rotating it to the right would give {3, 6, 2, 5}. To rotate an array, we
      need to copy the last element to the first position and then copy all the
      other elements to the next position. We can use a temporary variable to
      store the last element before overwriting it. If you do not want to change
      the original array, you can return a new array by copying in the rotated
      elements.
    </p>

    <activity label="rotateRightParsons" numbered="yes" adaptive="yes" indentation="show" language="java">
      <statement>
        <p>
          The following program segment is a method that should return an
          integer array that is rotated to the right – so {6, 2, 5, 3} returns
          {3, 6, 2, 5} (the parameter). Note that the method return type is
          int[] which means it will return an int array. But, the blocks have
          been mixed up and include one extra block that is not needed in a
          correct solution. Drag the blocks from the left and put them in the
          correct order on the right. Click the Check button to check your
          solution.
        </p>
      </statement>

      <blocks>
        <block order="3">
          <cline>public static int[] rotateRight(int[] arr)</cline>
          <cline>{</cline>
        </block>

        <block order="7">
          <cline>    int[] result = new int[arr.length];</cline>
        </block>

        <block order="2">
          <cline>    result[0] = arr[arr.length-1];</cline>
        </block>

        <block order="8">
          <cline>    for (int i = 0; i &lt; arr.length - 1; i++)</cline>
          <cline>    {</cline>
        </block>

        <block order="5" correct="no">
          <cline>    for (int i = 0; i &lt; arr.length; i++)</cline>
          <cline>    {</cline>
        </block>

        <block order="1">
          <cline>        result[i + 1] = arr[i];</cline>
        </block>

        <block order="4">
          <cline>    } //end for loop</cline>
        </block>

        <block order="9">
          <cline>    return result;</cline>
        </block>

        <block order="6">
          <cline>} //end shiftRight method</cline>
        </block>
      </blocks>
    </activity>

    <p>
      We can also rotate in place without constructing another array. We can
      copy the last element to the first position and then copy all the other
      elements to the next position. We need to use an indexed loop to access
      the elements at different indices. When you pass an array to a method,
      you’re actually passing a reference to the array’s memory location. This
      means that any changes made to the array within the method will affect the
      original array.
    </p>

    <activity label="rotate">
      <statement>
        <p>
          The code below rotates array elements to the left in place without
          constructing another array. Try it in the <url
          href="http://www.pythontutor.com/visualize.html#code=public%20class%20Rotate%0A%20%20%20%7B%20%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20int%5B%20%5D%20values%20%3D%20%7B6,%202,%201,%207,%2012,%205%7D%3B%0A%20%20%20%20%20%20%20%20int%20first%20%3D%20values%5B0%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28int%20i%3D0%3B%20i%20%3C%20values.length%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20//%20if%20it's%20not%20the%20last%20element,%20copy%20the%20next%20one%20over%0A%20%20%20%20%20%20%20%20%20%20if%20%28i%20%3C%20values.length%20-%201%29%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20values%5Bi%5D%20%3D%20values%5Bi%2B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20//%20last%20element%20gets%20first%0A%20%20%20%20%20%20%20%20%20%20%20%20%20values%5Bi%5D%20%3D%20first%3B%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20//%20print%20them%20out%20to%20see%20the%20results%0A%20%20%20%20%20%20%20%20for%20%28int%20val%20%3A%20values%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20System.out.print%28val%20%2B%20%22%20%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%7D%0A%20%20&amp;cumulative=false&amp;curInstr=47&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false&amp;curInstr=0"
          visual="http://www.pythontutor.com/visualize.html#code=public%20class%20Rotate%0A%20%20%20%7B%20%20%20%20%20%20%0A%20%20%20%20%20%20public%20static%20void%20main%28String%5B%5D%20args%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20int%5B%20%5D%20values%20%3D%20%7B6,%202,%201,%207,%2012,%205%7D%3B%0A%20%20%20%20%20%20%20%20int%20first%20%3D%20values%5B0%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28int%20i%3D0%3B%20i%20%3C%20values.length%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20//%20if%20it's%20not%20the%20last%20element,%20copy%20the%20next%20one%20over%0A%20%20%20%20%20%20%20%20%20%20if%20%28i%20%3C%20values.length%20-%201%29%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20values%5Bi%5D%20%3D%20values%5Bi%2B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20//%20last%20element%20gets%20first%0A%20%20%20%20%20%20%20%20%20%20%20%20%20values%5Bi%5D%20%3D%20first%3B%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20//%20print%20them%20out%20to%20see%20the%20results%0A%20%20%20%20%20%20%20%20for%20%28int%20val%20%3A%20values%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20System.out.print%28val%20%2B%20%22%20%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%7D%0A%20%20&amp;cumulative=false&amp;curInstr=47&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false&amp;curInstr=0">Java
          visualizer</url> with the CodeLens button. Can you change it to rotate
          the elements to the right instead? Hint: use a backwards loop.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class Rotate
{
    public static void main(String[] args)
    {
        int[] values = {6, 2, 1, 7, 12, 5};
        int first = values[0];
        for (int i = 0; i &lt; values.length; i++)
        {
            // if it's not the last element, copy the next one over
            if (i &lt; values.length - 1)
            {
                values[i] = values[i + 1];
            }
            else
            {
                // last element gets first
                values[i] = first;
            }
        }
        // print them out to see the results
        for (int val : values)
        {
            System.out.print(val + " ");
        }
    }
}
        </code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("Rotate");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "5 6 2 1 7 12";

        boolean passed = output.contains(expect);

        passed = getResults(expect, output, "Rotate numbers to the right", passed);
        assertTrue(passed);
    }

    @Test
    public void test3()
    {
        boolean passed =
                checkCodeContains("copying values[i-1] into values[i]", "values[i] = values[i-1]");
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>
  </subsection>

  <subsection xml:id="reversing-an-array">
    <title>Reversing an Array</title>
    <p>
      Reversing an array is similar to rotating it. We can copy the first
      element to the last position, the second element to the second-to-last
      position, and so on. We can use a temporary variable to store the value of
      the element we are overwriting. We usually need an indexed loop to access
      the elements at different indices unless we use a temporary array to store
      the reversed elements. Note that arrays are passed as references to
      methods, so any changes made to the array within the method will affect
      the original array.
    </p>

    <p>
      The following programs show how you can reverse an array in place by
      swapping elements. The first uses a while loop and the second an indexed
      for loop. To swap two elements, you need to use a temp variable to store
      the value of the element you are overwriting. Imagine that you have a
      glass of milk and a glass of orange juice. How would you swap the contents
      of the two glasses without making a huge mess? You would need a third
      glass to hold the contents of one of the glasses while you pour the
      contents of the other glass into it. Then you can pour the contents of the
      third glass into the other glass. This is the same idea behind swapping
      elements in an array.
    </p>

    <figure align="center">
      <caption>Swapping elements in an array</caption>
      <image source="Unit4-Data-Collections/Figures/swap.png" width="54%" />
    </figure>

    <program language="java">
      <code>
// Swapping 2 elements at index i and j
int temp = array[i];  // pour milk into temp cup
array[i] = array[j];  // pour orange juice into milk glass
array[j] = temp;      // pour milk from temp into oj glass
      </code>
    </program>

    <activity label="parsons_array_reverse" numbered="yes" adaptive="yes" indentation="hide" language="java">
      <statement>
        <p>
          The following method reverses an array in place using an indexed for
          loop and a temp variable to swap the first and last items, but the
          code blocks are mixed up. Drag the blocks from the left and put them
          in the correct order on the right. Click the Check button to check
          your solution.
        </p>
      </statement>

      <blocks>
        <block order="8">
          <cline>public static void reverse(int[] a)</cline>
          <cline>{</cline>
        </block>

        <block order="5">
          <cline>  int temp = 0;</cline>
          <cline>  int half = a.length / 2;</cline>
          <cline>  int max = a.length - 1;</cline>
        </block>

        <block order="6">
          <cline>  for (int i = 0; i &lt; half; i++)</cline>
          <cline>  {</cline>
        </block>

        <block order="2">
          <cline>     temp = a[i];</cline>
        </block>

        <block order="7">
          <cline>     a[i] = a[max - i];</cline>
        </block>

        <block order="3">
          <cline>     a[max - i] = temp;</cline>
        </block>

        <block order="1">
          <cline>  } // end for</cline>
        </block>

        <block order="4">
          <cline>} // end method</cline>
        </block>
      </blocks>
    </activity>

    <activity label="parsons_array_reverse2" numbered="yes" adaptive="yes" indentation="hide" language="java">
      <statement>
        <p>
          The following method reverses an array in place using a while loop and
          a temp variable to swap the first and last items. But, the blocks have
          been mixed up and include two extra blocks that are not needed in a
          correct solution. Drag the blocks from the left and put them in the
          correct order on the right. Click the Check button to check your
          solution.
        </p>
      </statement>

      <blocks>
        <block order="4">
          <cline>public static void reverse(int[] array)</cline>
          <cline>{</cline>
        </block>

        <block order="7">
          <cline>   int start = 0;</cline>
          <cline>   int end = array.length - 1;</cline>
        </block>

        <block order="6">
          <cline>   while (start &lt; end)</cline>
          <cline>   {</cline>
        </block>

        <block order="5" correct="no">
          <cline>   for(int i = start; i &lt; end; i++)</cline>
          <cline>   {</cline>
        </block>

        <block order="9">
          <cline>     int temp = array[start];</cline>
        </block>

        <block order="2">
          <cline>     array[start] = array[end];</cline>
        </block>

        <block order="10">
          <cline>     array[end] = temp;</cline>
        </block>

        <block order="1">
          <cline>     start++;</cline>
          <cline>     end--;</cline>
        </block>

        <block order="3" correct="no">
          <cline>     start++;</cline>
        </block>

        <block order="8">
          <cline>   }</cline>
          <cline>}</cline>
        </block>
      </blocks>
    </activity>

    <activity label="reverseArrayCode">
      <statement>
        <p>
          Create a method <c>reverse</c> that reverses an array in place using a
          temp variable.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
import java.util.Arrays;

public class ReverseTest
{
    public static void reverse(String[] array)
    {
        // TODO: reverse array in place using a temp variable to swap elements

    }

    public static void main(String[] args)
    {
        String[] a1 = {"p","a","w","s"};
        reverse(a1);
        System.out.println(Arrays.toString(a1));
    }
}
        </code>
        <tests>
      import static org.junit.Assert.*;

      import org.junit.*;

      import java.io.*;
      import java.util.Arrays;

      public class RunestoneTests extends CodeTestHelper
      {
          public RunestoneTests()
          {
            super("ReverseTest");
          }

          @Test
          public void testMain() throws IOException
          {
              String output = getMethodOutput("main");
              String expect = "[s, w, a, p]";
              boolean passed = getResults(expect, output, "Expected output from main");
              assertTrue(passed);
          }
          @Test
          public void testMethod2()
          {
              String[] a = {"r","a","t","s"};
              ReverseTest.reverse(a);
              String output = Arrays.toString(a);
              String expect = "[s, t, a, r]";

              boolean passed = getResults(expect, output, "reverse({r, a, t, s})");
              assertTrue(passed);
          }
      }
        </tests>
      </program>
    </activity>
  </subsection>

  <subsection xml:id="review-and-frq-practice-for-arrays">
    <title>Review and FRQ Practice for Arrays</title>
    <p>
      This lesson ends the section on 1-dimensional arrays. You can now do the
      following review lessons and FRQs at the end of the unit and College Board
      Progress Check for Unit 4 Part A in the AP Classroom.
    </p>

    <p>
      <ul>
        <li>
          <url href="array-summary.html" visual="array-summary.html">Arrays Summary</url>
        </li>

        <li>
          <url href="ArrayParsonsPractice.html" visual="ArrayParsonsPractice.html">Arrays Mixed-up Code Practice</url>
        </li>

        <li>
          <url href="ArrayPractice.html" visual="ArrayPractice.html">Arrays Coding Practice</url>
        </li>

        <li>
          <url href="MoreArrayPractice.html" visual="MoreArrayPractice.html">More Arrays Coding Practice</url>
        </li>

        <li>
          <url href="array-Exercises.html" visual="array-Exercises.html">Arrays Multiple-Choice Exercises</url>
        </li>

        <li>
          <url href="arrayExam.html" visual="arrayExam.html">Arrays Exam</url>
        </li>
      </ul>
    </p>

    <p>
      We encourage you to work in pairs or groups to tackle the following
      challenging FRQ problems and take them one step at a time. These will get
      easier with practice! Note that the third FRQ now uses ArrayLists instead
      of arrays, but these FRQ practice probelms will still help you to practice
      iterating over a data structure and can be converted to work with
      ArrayLists.
    </p>

    <p>
      <ul>
        <li>
          <url href="horseBarnA.html" visual="horseBarnA.html">Horse Barn A FRQ</url>
        </li>

        <li>
          <url href="horseBarnB.html" visual="horseBarnB.html">Horse Barn B FRQ</url>
        </li>

        <li>
          <url href="selfDivisorB.html" visual="selfDivisorB.html">Self Divisor B FRQ</url>
        </li>

        <li>
          <url href="soundA.html" visual="soundA.html">Sound A FRQ</url>
        </li>

        <li>
          <url href="soundB.html" visual="soundB.html">Sound B FRQ</url>
        </li>

        <li>
          <url href="numberCubeA.html" visual="numberCubeA.html">Number Cube A FRQ</url>
        </li>

        <li>
          <url href="numberCubeB.html" visual="numberCubeB.html">Number Cube B FRQ</url>
        </li>
      </ul>
    </p>
  </subsection>
</section>
