<?xml version="1.0" encoding="UTF-8"?>
<!-- Generated by Docutils 0.17.1 -->

<section xml:id="topic-4-3-array-basics">
  <title>Array Creation and Access</title>
  <introduction>
    <idx>array</idx>
    <idx>index</idx>
    <idx><h>array</h><h>index</h></idx>
    <p>
      To keep track of 10 exam scores, we could declare 10 separate variables:
      int score1, score2, score3, … , score10; But what if we had 100 exam
      scores? That would be a lot of variables! Most programming languages have
      a simple <term>data structure</term> for a collection of related data that
      makes this easier. In many block-based programming languages like App
      Inventor and Scratch, this is called a list. In Java and many programming
      languages, this is called an <term>array</term>.
    </p>

    <p>
      An <term>array</term> is a block of memory that stores a collection of
      data items (<term>elements</term>) of the same type under one name. Arrays
      are useful whenever you have many elements of data of the same type that
      you want to keep track of, but you don’t need to name each one. Instead
      you use the array name and a number (called an <term>index</term>) for the
      position of an item in the array. You can make arrays of ints, doubles,
      Strings, and even classes that you have written like Students.
    </p>

    <p>
      Here’s a fun <url href="https://youtu.be/G7aF-OuLfl4"
      visual="https://youtu.be/G7aF-OuLfl4">video</url> that introduces the
      concept of an array and gives an example.
    </p>

    <video youtube="G7aF-OuLfl4" label="video-arrays" />
    <p>
      An array is like a row of small lockers, except that you can’t cram lots
      of stuff into it. You can only store one value at each locker.
    </p>

    <figure align="center">
      <caption>A row of lockers</caption>
      <image source="Unit4-Data-Collections/Figures/rowLockers.jpg" width="71%" />
    </figure>

    <p>
      You can store a value in an array using an <term>index</term> (location in
      the array). An array index is like a locker number. It helps you find a
      particular place to store your stuff and retrieve stuff. You can get or
      store a value from or to an array using an index.
    </p>

    <p>
      Arrays and lists in most programming languages start counting elements
      from the number 0, so the first element in an array is at index 0. This is
      similar to how Strings are indexed in Java – the first character is at
      index 0. If you used App Inventor in the past, you might remember that
      list elements there start at 1 instead of 0, so make sure you remember
      that in Java, arrays start the index at 0!
    </p>

    <figure align="center">
      <caption>Comparing App Inventor lists and Java arrays</caption>
      <image source="Unit4-Data-Collections/Figures/appinvListComparison.png" width="100%" />
    </figure>
  </introduction>

  <activity label="arrayAnalogy">
    <statement>
      <p>
        Can you think of another example of something that is like an array
        (like a row of lockers)?
      </p>
    </statement>

    <response />
  </activity>

  <subsection xml:id="declaring-and-creating-an-array">
    <title>Declaring and Creating an Array</title>
    <p>
      When we declare a variable, we specify its type and then the variable
      name. To make a variable into an array, we put square brackets after the
      data type. For example, <c>int[] scores</c> means we have an array called
      scores that contains <c>int</c> values.
    </p>

    <program language="java">
      <code>
// Declaration for a single int variable
int score;
// Declaration for an array of ints
int[] scores;
</code>
    </program>

    <p>
      The declarations do not create the array. Arrays are <term>objects</term>
      in Java, so any variable that declares an array holds a reference to an
      object. If the array hasn’t been created yet and you try to print the
      value of the variable, it will print <term>null</term> (meaning it doesn’t
      reference any object yet).
    </p>

    <p>
      There are two ways to create an array. You can use the keyword
      <term>new</term> to get new memory or use an <term>initializer list</term>
      to set up the values in the array.
    </p>

    <p>
      Watch the following <url href="https://youtu.be/IbPFjw1FNkE"
      visual="https://youtu.be/IbPFjw1FNkE">video</url> which shows the two ways
      of creating an array with a physical model of Java memory.
    </p>

    <video youtube="IbPFjw1FNkE" label="video-array-memory" />
  </subsection>

  <subsection xml:id="using-new-to-create-arrays">
    <title>Using new to Create Arrays</title>
    <p>
      To create an empty array after declaring the variable, use the
      <term>new</term> keyword with the type and the size of the array (the
      number of elements it can hold). This will actually create the array in
      memory. You can do the declaration and the creation all in one step, see
      the String array <c>names</c> below. The size of an array is set at the
      time of creation and cannot be changed after that.
    </p>

    <program language="java">
      <code>
//declare an array variable
int[] highScores;
// create the array
highScores = new int[5];
// declare and create array in 1 step!
String[] names = new String[5];
</code>
    </program>

    <activity label="createarray">
      <statement>
        <p>
          Which of the following creates an array of 10 doubles called prices?
        </p>
      </statement>

      <choices>
        <choice>
          <statement>
            <p>int[] prices = new int[10];</p>
          </statement>

          <feedback>
            <p>We need double for money amounts in prices.</p>
          </feedback>
        </choice>

        <choice correct="yes">
          <statement>
            <p>double[] prices = new double[10];</p>
          </statement>

          <feedback>
            <p>Yes correct!</p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>double[] prices;</p>
          </statement>

          <feedback>
            <p>This declares the array but does not create it with new.</p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>double[10] prices = new double[];</p>
          </statement>

          <feedback>
            <p>This is not the correct syntax.</p>
          </feedback>
        </choice>
      </choices>
    </activity>

    <activity label="arrayex1">
      <statement>
        <p>
          In the following code, add another two more array declarations, one
          that creates an array of 5 doubles called prices and another of 5
          Strings called names. Then add <c>System.out.println</c> calls to
          print their lengths.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class Test1
{
    public static void main(String[] args)
    {
        // Array example
        int[] highScores = new int[10];
        // Add an array of 5 doubles called prices.

        // Add an array of 5 Strings called names.

        System.out.println(
                "Array highScores declared with size " + highScores.length);
        // Print out the length of the new arrays
    }
}

</code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("Test1");
    }

    @Test
    public void testDouble() throws IOException
    {
        String target = "new double[5];";
        boolean passed = checkCodeContains(target);
        assertTrue(passed);
    }

    @Test
    public void testString() throws IOException
    {
        String target = "new String[5];";
        boolean passed = checkCodeContains(target);
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>

    <idx><h>array</h><h>initialization</h></idx>
    <note>
      <p>
        Array elements are initialized to default values like the following.
      </p>

      <p>
        <ul>
          <li>
            <p>
              0 for elements of type <c>int</c>
            </p>
          </li>

          <li>
            <p>
              0.0 for elements of type <c>double</c>
            </p>
          </li>

          <li>
            <p>
              false for elements of type <c>boolean</c>
            </p>
          </li>

          <li>
            <p>
              null for elements of type <c>String</c>
            </p>
          </li>
        </ul>
      </p>
    </note>

    <figure align="center">
      <caption>
        Two 5 element arrays with their values set to the default values for
        integer and object arrays.
      </caption>

      <image source="Unit4-Data-Collections/Figures/arrayIndicies.png" width="36%" />
    </figure>
  </subsection>

  <subsection xml:id="initializer-lists-to-create-arrays">
    <title>Initializer Lists to Create Arrays</title>
    <p>
      Another way to create an array is to use an <term>initializer list</term>.
      You can initialize (set) the values in the array to a list of values in
      curly braces (<c>{}</c>) when you create it, like below. In this case you
      don’t specify the size of the array, it will be determined from the number
      of values that you specify.
    </p>

    <program language="java">
      <code>
int[ ] highScores = {99,98,98,88,68};
String[ ] names = {"Jamal", "Emily", "Destiny", "Mateo", "Sofia"};
</code>
    </program>

    <p>
      When you create an array of a <term>primitive type</term> (like
      <c>int</c>) with initial values specified, space is allocated for the
      specified number of items of that type and the values in the array are set
      to the specified values. When you create an array of an <term>object
      type</term> (like <c>String</c>) with initial values, space is set aside
      for that number of object references. The objects are created and the
      object references set so that the objects can be found.
    </p>

    <figure align="center">
      <caption>A primitive array and an object array</caption>
      <image source="Unit4-Data-Collections/Figures/intAndStringArrays.png" width="89%" />
    </figure>

    <p>
      Watch the following <url href="https://youtu.be/T-YZvVvPOac"
      visual="https://youtu.be/T-YZvVvPOac">video</url> which shows an array of
      String objects with a physical model of Java memory.
    </p>

    <video youtube="T-YZvVvPOac" label="video-string-array" />
    <idx>dot-notation</idx>
    <idx><h>array</h><h>length</h></idx>
  </subsection>

  <subsection xml:id="array-length-index-2">
    <title>Array length</title>
    <p>
      Arrays know their <term>length</term> (how many elements they can store).
      The length (or size) of an array is established at the time of creation
      and cannot be changed. The length of an array can be accessed through the
      <c>length</c> attribute, which is a public final instance variable that
      cannot be changed after the array is created. You can use <term>dot-
      notation</term> to access the instance variable, for example
      <c>arrayName.length</c>. Try the following.
    </p>

    <activity label="arrayex2">
      <statement>
        <p>
          Try running the code below to see the length. Try adding another value
          to the highScores initializer list and run again to see the length
          value change.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class Test2
{
    public static void main(String[] args)
    {
        int[] highScores = {99, 98, 98, 88, 68};
        System.out.println(highScores.length);
    }
}

</code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("Test2");
    }

    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main").trim();
        String expect = "6";

        // boolean pass = !output.equals(expect.trim());

        boolean passed = getResults(expect, output, "Did you add another value?");
        assertTrue(passed);
    }

    @Test
    public void testChangedCode()
    {
        String origCode =
                "public class Test2 { public static void main (String [] args) { int [] highScores"
                    + " = {99,98,98,88,68}; System.out.println(highScores.length); } }";

        boolean changed = codeChanged(origCode);

        assertTrue(changed);
    }
}
        </tests>
      </program>
    </activity>

    <note>
      <p>
        Note that length is an instance variable and not a method, unlike the
        String <c>length()</c> method, so you don’t add parentheses after
        length. However, if you use parentheses after length during the AP exam,
        you won’t lose any points. The length instance variable is declared as a
        <c>public final int</c>. <c>public</c> means you can access it and
        <c>final</c> means the value can’t change.
      </p>
    </note>

    <activity label="qarrayLength">
      <statement>
        <p>
          Which index is for the last element of an array called
          <c>highScores</c>?
        </p>
      </statement>

      <choices>
        <choice>
          <statement>
            <p>highScores.length</p>
          </statement>

          <feedback>
            <p>
              Remember that the first element in an array starts at index 0. If
              the length (the number of elements) of the array is 5, at what
              index would you find the last element?
            </p>
          </feedback>
        </choice>

        <choice correct="yes">
          <statement>
            <p>highScores.length - 1</p>
          </statement>

          <feedback>
            <p>
              Since the first element in an array is at index 0 the last element
              is the length minus 1.
            </p>
          </feedback>
        </choice>
      </choices>
    </activity>
  </subsection>

  <subsection xml:id="access-and-modify-array-values">
    <title>Access and Modify Array Values</title>
    <p>
      To access the items in an array, we use an <term>indexed array
      variable</term> which is the array name and the index inside of square
      bracket [ ]. Remember that an <term>index</term> is a number that
      indicates the position of an item in a list, starting at 0. Here’s a
      comparison of App Inventor, AP CSP Pseudocode, and Java array access.
    </p>

    <figure align="center">
      <caption>Comparing Access to App Inventor lists and Java arrays</caption>
      <image source="Unit4-Data-Collections/Figures/appinvSelectComparison.png" width="100%" />
    </figure>

    <p>
      An indexed variable like <term>arrayname[index]</term> can be used
      anywhere a regular variable can be used, for example to assign a new value
      or to get a value from the array like below.
    </p>

    <program language="java">
      <code>
// assign a new value 99 to the first element in the array
highScores[0] = 99;
// print the first element of the array
System.out.println( highScores[0] );
</code>
    </program>

    <note>
      <p>
        The first value in an array is stored at index 0 and the index of the
        last value is the length of the array minus one (since the first index
        is 0). Square brackets <c>[]</c> are used to access and modify an
        element in a 1D array using an index, for example <c>array[index]</c>.
      </p>
    </note>

    <p>
      Watch the following <url href="https://youtu.be/uagEJw6bTM4"
      visual="https://youtu.be/uagEJw6bTM4">video</url> which shows a physical
      model of Java memory setting array values.
    </p>

    <video youtube="uagEJw6bTM4" label="video-array-values-memory" />
    <activity label="array-access-mcq1">
      <statement>
        <p>
          Which code below accesses "Honda" using the following array:
          <c>String[] cars = {“Honda”, “Volvo”, “BMW”};</c>
        </p>
      </statement>

      <choices>
        <choice correct="yes">
          <statement>
            <p>cars[0]</p>
          </statement>

          <feedback>
            <p>
              Yes, this would access "Honda". Remember that the first element in
              an array starts at index 0.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>cars[1]</p>
          </statement>

          <feedback>
            <p>
              No, this would access "Volvo". Remember that the first element in
              an array starts at index 0.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>cars[2]</p>
          </statement>

          <feedback>
            <p>
              No, this would access "BMW". Remember that the first element in an
              array starts at index 0.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>cars[3]</p>
          </statement>

          <feedback>
            <p>
              No, this would result in an IndexOutOfBounds error. Remember that
              the first element in an array starts at index 0.
            </p>
          </feedback>
        </choice>
      </choices>
    </activity>

    <activity label="array-access-mcq2">
      <statement>
        <p>
          Which code below accesses "BMW" in the array: <c>String[] cars =
          {“Honda”, “Volvo”, “BMW”};</c>
        </p>
      </statement>

      <choices>
        <choice>
          <statement>
            <p>cars[0]</p>
          </statement>

          <feedback>
            <p>
              No, this would access "Honda". Remember that the first element in
              an array starts at index 0.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>cars[1]</p>
          </statement>

          <feedback>
            <p>
              No, this would access "Volvo". Remember that the first element in
              an array starts at index 0.
            </p>
          </feedback>
        </choice>

        <choice correct="yes">
          <statement>
            <p>cars[2]</p>
          </statement>

          <feedback>
            <p>
              Yes, this would access "BMW". If there are n elements and you
              start indexing at 0, the last element is at index n-1.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>cars[3]</p>
          </statement>

          <feedback>
            <p>
              No, this would result in an IndexOutOfBounds error. Remember that
              the first element in an array starts at index 0.
            </p>
          </feedback>
        </choice>
      </choices>
    </activity>

    <p>
      If you want to keep track of the top 5 highest scores in a game and the
      names of the people with those scores, you could use two <term>parallel
      arrays</term>. One array could keep track of the scores and the other the
      names. You have to make sure you keep them in the same order so that the
      same index can be used to get correponding names and scores.
    </p>

    <activity label="array-set">
      <statement>
        <p>
          Try out the following code which has two parallel arrays, highScores
          and names. Can you print out Mateo’s score? Can you change Sofia’s
          score to 97 using an assignment statement in the code? Can you change
          the arrays so that they have 6 elements and add your name and score
          and print them out?
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class Test1
{
    public static void main(String[] args)
    {
        // declare, create, initialize arrays
        int[] highScores = {99, 98, 98, 88, 68};
        String[] names = {"Jamal", "Emily", "Destiny", "Mateo", "Sofia"};

        // Print corresponding names and scores
        System.out.println(names[0] + " has a score of " + highScores[0]);
        System.out.println(names[1] + " has a score of " + highScores[1]);
    }
}

</code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("Test1");
    }

    @Test
    public void test1() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "Jamal has a score of 99\nEmily has a score of 98";

        boolean passed = !output.equals(expect);

        passed = getResults(expect, output, "Did you change the main?", passed);
        assertTrue(passed);
    }

    @Test
    public void test2() throws IOException
    {
        String output = getMethodOutput("main");
        String expect = "Mateo has a score of 88";

        boolean passed = output.contains("Mateo");

        passed = getResults(expect, output, "Did you print out Mateo?", passed);
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>

    <p>
      What happens if you try to access an element that is not there? Try to
      access a <c>highScore</c> or <c>name</c> at index 7 above to see what
      happens. The index must be between 0 and the length of the array - 1 or it
      will give an error message called <c>ArrayIndexOutOfBoundsException</c>.
    </p>

    <note>
      <p>
        Using an index value outside of 0 - (length-1) will result in an
        <c>ArrayIndexOutOfBoundsException</c> being thrown.
      </p>
    </note>

    <p>
      One powerful feature in the array <term>data abstraction</term> is that we
      can use variables for the index! As long as the variable holds an integer,
      we can use it as an index.
    </p>

    <program language="java">
      <code>
// use a variable for the index
int index = 3;
System.out.println(  highScores[index] );
</code>
    </program>

    <image source="Unit4-Data-Collections/array-images/cow.jpg" width="27%" />
    <p>
      Here’s a fun String array of image filenames. The following code displays
      an online image using an HTML tag. (Note that this just works in this
      Active Code window which interprets HTML. In other Java IDEs you would
      need to use Java Swing graphics instead). Run the code and see that it
      displays images[0] which is “cow.jpg”. The images array holds 5 images.
    </p>

    <activity label="imageArray">
      <statement>
        <p>
          Can you change the index variable’s value so that it prints out the
          puppy image? Can you print out the reindeer? Try all of them! What
          indices did you need to use? Then try using a random number for the
          index instead. Remember that (int)(Math.random()*max) will return a
          number from 0 up to max. What’s the maximum number it can be for this
          array?
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class ImageEx
{
    public static void main(String[] args)
    {
        String[] images =
        {
            "cow.jpg", "kitten.jpg", "puppy.jpg", "pig.jpg", "reindeer.jpg"
        };

        ImageEx obj = new ImageEx();
        // Change index to see different images in the array!
        // Can you have it pick out a random image?
        int index = 0;
        obj.printHTMLimage(images[index]);
    }

    // This method will just work in Active Code which interprets html
    public void printHTMLimage(String filename)
    {
        String baseURL =
                "https://raw.githubusercontent.com/bhoffman0/CSAwesome/master/_sources/Unit6-Arrays/6-1-images/";
        System.out.print("&lt;img src=" + baseURL + filename + " width=500px /&gt;");
    }
}

 </code>
        <tests>
 import static org.junit.Assert.*;

 import org.junit.*;

 import java.io.*;

 // ActiveCode imageArray
 public class RunestoneTests extends CodeTestHelper
 {
     @Test
     public void testCode()
     {
         String code = getCode();
         String expect = "int index = 0;";

         boolean passed = !code.contains(expect);

         getResults("index not 0", passed + "", "Changed index to another value", passed);
         assertTrue(passed);
     }

     @Test
     public void testRandomAdded()
     {
         boolean passed = checkCodeContains("Math.random to set index", "Math.random");
         assertTrue(passed);
     }
 }
        </tests>
      </program>
    </activity>
  </subsection>

  <subsection xml:id="coding-challenge-countries-array">
    <title>Coding Challenge : Countries Array</title>
    <image source="Unit4-Data-Collections/array-images/US.jpg" width="36%" />
    <p>
      In this challenge, you will create a guide to different countries using
      arrays.
    </p>

    <p>
      <ol marker="1">
        <li>
          <p>
            Use the Active Code window below to create 4 parallel arrays and
            initialize them using initialization lists that represent the data
            below. Remember that the order of these arrays has to match so that
            you can use the same index and get corresponding values out.
          </p>
        </li>
      </ol>
    </p>

    <blockquote>
      <p>
        <ul>
          <li>
            <p>
              <term>Countries:</term> China, Egypt, France, Germany, India,
              Japan, Kenya, Mexico, United Kingdom, United States
            </p>
          </li>

          <li>
            <p>
              <term>Capitals:</term> Beijing, Cairo, Paris, Berlin, New Delhi,
              Tokyo, Nairobi, Mexico City, London, Washington D.C.
            </p>
          </li>

          <li>
            <p>
              <term>Languages:</term> Chinese, Arabic, French, German, Hindi,
              Japanese, Swahili, Spanish, English, English
            </p>
          </li>

          <li>
            <p>
              <term>Filenames for map images:</term> China.jpg, Egypt.jpg,
              France.jpg, Germany.jpg, India.jpg, Japan.jpg, Kenya.jpg,
              Mexico.jpg, UK.jpg, US.jpg
            </p>
          </li>
        </ul>
      </p>
    </blockquote>

    <p>
      <ol marker="1">
        <li>
          <p>
            You are encouraged to add additional country, capital, and language
            names that match in position in the parallel arrays to represent
            your family origins or places you would like to visit. Although we
            do not have image files for each country in the CSAwesome map
            images, we do have regional map images called south-america.png,
            central-america.png, north-america.png, asia-pacific.png,
            europe.png, africa.png, and middle-east.png which you can use. Note
            that these are png files and not jpg. If you create more maps for
            your project, you can have your teacher share it in the teaching-
            csawesome google group to contribute to this map image collection.
          </p>
        </li>

        <li>
          <p>
            Choose a random number using Math.random() and the
            <term>length</term> of one of the arrays and save it in a variable
            called index.
          </p>
        </li>

        <li>
          <p>
            Print out the country name, its capital, and its language, and the
            map image for that country using the random index to access the
            corresponding item in each parallel array. For the images, the
            <c>printHTMLimage</c> method has been given to get the image URL
            online and print it out as an HTML image.
          </p>
        </li>

        <li>
          <p>
            Optional Extra Challenge: If you have more time for this project,
            you can combine what you learned in the last unit to
            <term>refactor</term> your code (which means restructure without
            changing the functionality) to make it object-oriented. Create a
            Country class that stores the country name, capital, language, and
            image file. In the main method, create an array of 10 Country
            objects with the data for each country passed to its constructor,
            and use a random number to choose a country object from the array
            and display its attributes. See the array of turtles in the next
            section below for help on how to create an array of objects.
          </p>
        </li>
      </ol>
    </p>

    <project label="challenge-countries">
      <statement>
        <p>
          Create 4 parallel arrays to keep information about countries. Randomly
          pick an index to show the information about the countries.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class Countries
{
    public static void main(String[] args)
    {
        // 1. Declare 4 arrays and initialize them to the given values.
        // Countries: China, Egypt, France, Germany, India, Japan, Kenya, Mexico,
        // United Kingdom, United States
        // Capitals: Beijing, Cairo, Paris, Berlin, New Delhi, Tokyo, Nairobi,
        // Mexico City, London, Washington D.C.
        // Languages: Chinese, Arabic, French, German, Hindi, Japanese, Swahili,
        // Spanish, English, English
        // Filenames for map images: China.jpg, Egypt.jpg, France.jpg, Germany.jpg,
        // India.jpg, Japan.jpg, Kenya.jpg, Mexico.jpg, UK.jpg, US.jpg

        // 2. Pick a random number up to the length of one of the arrays and save
        // in the variable index

        // 3. Print out the info in each array using the random index

        // Example of showing image files using an array called images (your array
        // name above may be different)
        // (this will only work in Active Code)
        // Countries obj = new Countries();
        // obj.printHTMLimage( images[index] );

    }

    // This method will just work in Active Code which interprets html
    public void printHTMLimage(String filename)
    {
        String baseURL =
                "https://raw.githubusercontent.com/bhoffman0/CSAwesome/master/_sources/Unit6-Arrays/6-1-images/";
        System.out.print("&lt;img src=" + baseURL + filename + " width=500px /&gt;");
    }
}

  </code>
        <tests>
  import static org.junit.Assert.*;

  import org.junit.*;

  import java.io.*;

  public class RunestoneTests extends CodeTestHelper
  {
      public RunestoneTests()
      {
          super("Countries");
      }

      @Test
      public void test1() throws IOException
      {
          String output = getMethodOutput("main");
          String expect = "Country Capital Language Image";

          int len = expect.split(" ").length;

          boolean passed = len == 4 &amp;&amp; output.contains(".jpg");

          passed = getResults(expect, expect, "Did you print all the info?", passed);
          assertTrue(passed);
      }

      @Test
      public void test2() throws IOException
      {
          String output = getMethodOutput("main");
          String expect = "&lt;img src";

          boolean passed = output.contains(expect);

          // passed = getResults(expect + "...", output, "Did you uncomment the image code?", passed);
          passed = getResults("image", "image", "Did you uncomment the image code?", passed);
          assertTrue(passed);
      }

      @Test
      public void test3() throws IOException
      {
          String[] lines = new String[10];

          for (int i = 0; i &lt; lines.length; i++)
          {
              lines[i] = getMethodOutput("main");
          }

          int difft = 10;

          for (int i = 0; i &lt; lines.length - 1; i++)
          {
              if (lines[i].equals(lines[i + 1]))
              {
                  difft--;
              }
          }

          boolean passed = difft &gt; 3;

          passed =
                  getResults(
                          "&gt; 3 Countries",
                          difft + " countries",
                          "Can pick a random different country &gt; 3 times?",
                          passed);
          assertTrue(passed);
      }

      @Test
      public void testArrays() throws IOException
      {
          // System.out.println(program);
          String code = getCode();

          int arrays = countOccurences(code, "String[]");

          boolean passed =
                  getResults(
                          "5 x String[]", arrays + " x String[]", "Did you declare 4 String arrays? (the 5th one is main's arg)");
          assertTrue(passed);
      }
  }
        </tests>
      </program>
    </project>
  </subsection>

  <subsection xml:id="design-an-array-of-objects-for-your-community">
    <title>Design an Array of Objects for your Community</title>
    <p>
      So far, we have seen arrays of ints and Strings, but we can create an
      array of any type. For example, the following program creates an array of
      Turtle objects. Notice that for an array of objects, we must call the
      constructor of each object to initialize the array elements, for example
      <c>array[index] = new ClassName();</c>. And we can use
      <c>array[index].method()</c> to call a method of an object in the array.
    </p>

    <program language="java">
      <code>
// Declaring an array of objects type ClassName
ClassName[] array = new ClassName[size];
// initialize array element by calling ClassName constructor
array[index] = new ClassName();
// call a method of the object in the array at index
array[index].method();
</code>
    </program>

    <activity label="TurtleArray">
      <statement>
        <p>
          Run the code below to see the 2 turtles in the array. Can you change
          the array size to 3 and create and add 1 more Turtle object to the
          array? Make this new turtle turnRight and go forward using its indexed
          array variable.
        </p>
      </statement>

      <program interactive="activecode" language="java" datafile="turtleClasses.jar,turtleClasses2.jar">
        <code>
import java.awt.*;
import java.util.*;

public class TurtleArray
{
    public static void main(String[] args)
    {
        World world = new World(300, 300);
        // Declare an array for 2 Turtle objects
        Turtle[] turtarray = new Turtle[2];
        // Initialize the array elements by constructing each turtle object
        turtarray[0] = new Turtle(world);
        turtarray[1] = new Turtle(world);
        // Call each turtle's methods
        turtarray[0].forward();
        turtarray[1].turnLeft();
        turtarray[1].forward();

        world.show(true);
    }
}

</code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testArrayDeclaration() throws IOException
    {
        boolean passed = checkCodeContains("an array declaration of size 3", "Turtle[3]");
        assertTrue(passed);
    }

    @Test
    public void testInit()
    {
        boolean passed =
                checkCodeContains("initialization for array element 2", "[2] = new Turtle");
        assertTrue(passed);
    }

    @Test
    public void testprint()
    {
        boolean passed = checkCodeContains("call forward() of array element 2", "[2].forward();");
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </activity>

    <p>
      In the last unit, you came up with a class of your own choice relevant to
      you or your community. In this unit, you will create an array to hold
      objects of your class.
    </p>

    <p>
      <ol marker="1">
        <li>
          <p>
            Copy your class from <url href="../Unit3-Class-
            Creation/topic-3-5-methods.html#groupwork-design-a-class-for-your-
            community" visual="../Unit3-Class-
            Creation/topic-3-5-methods.html#groupwork-design-a-class-for-your-
            community">lesson 3.5</url> below.
          </p>
        </li>

        <li>
          <p>In the main method, create an array of 3 objects of your class.</p>
        </li>

        <li>
          <p>
            Initialize array elements indexed 0 to 2 to new objects of your
            class using its constructor.
          </p>
        </li>

        <li>
          <p>
            Call the print method of each object in the array using the array
            index.
          </p>
        </li>
      </ol>
    </p>

    <project label="community-challenge-6-1">
      <statement>
        <p>
          Community Challenge: Copy your class from <url href="../Unit3-Class-
          Creation/topic-3-5-methods.html#groupwork-design-a-class-for-your-
          community" visual="../Unit3-Class-
          Creation/topic-3-5-methods.html#groupwork-design-a-class-for-your-
          community">lesson 3.5</url> below. Create an array of 3 objects of
          your class, initialize them to new objects and call their print
          methods.
        </p>
      </statement>

      <program interactive="activecode" language="java">
        <code>
public class          // Add your class name here!
{
    // 1. Copy your class from lesson 3.5 below.



    public static void main(String[] args)
    {
       // 2. Create an array of 3 objects of your class.

       // 3. Initialize array elements 0-2 to new objects of your class.


       // 4. Call the print method of each object in the array using the array index.


    }
}
</code>
        <tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    @Test
    public void testArrayDeclaration() throws IOException
    {
        boolean passed = checkCodeContains("an array declaration of size 3", "[3]");
        assertTrue(passed);
    }

    @Test
    public void testObjs() throws IOException
    {
        String code = getCode();
        String target = "new";
        int count = countOccurences(code, target);
        boolean passed = (count &gt;= 4);
        getResults(
                "4+ " + target,
                count + "+ " + target,
                "Did you declare 3 objects of your class using new and your constructor?",
                passed);
        assertTrue(passed);
    }

    @Test
    public void testInit()
    {
        boolean passed = checkCodeContains("initialization for array element 0", "[0]=");
        assertTrue(passed);
    }

    @Test
    public void testprint()
    {
        boolean passed = checkCodeContains("call to print of array element 0", "[0].print");
        assertTrue(passed);
    }

    @Test
    public void testMain() throws IOException
    {
        String output = getMethodOutput("main"); // .split("\n");
        String expect = "3+ line(s) of text";
        String actual = " line(s) of text";
        int len = output.split("\n").length;

        if (output.length() &gt; 0)
        {
            actual = len + actual;
        }
        else
        {
            actual = output.length() + actual;
        }
        boolean passed = len &gt;= 3;

        getResults(expect, actual, "Checking output", passed);
        assertTrue(passed);
    }
}
        </tests>
      </program>
    </project>
  </subsection>

  <subsection xml:id="summary-45">
    <title>Summary</title>
    <p>
      <ul>
        <li>
          <p>
            (AP 4.3.A.1) An <term>array</term> stores multiple values of the
            same type. The values can be either primitive values or object
            references.
          </p>
        </li>

        <li>
          <p>
            (AP 4.3.A.2) The length (size) of an array is established at the
            time of creation and cannot be changed. The length of an array can
            be accessed through the <c>length</c> attribute.
          </p>
        </li>

        <li>
          <p>
            (AP 4.3.A.3) When an array is created using the keyword <c>new</c>,
            all of its elements are initialized to the default values for the
            element data type. The default value for <c>int `` is ``0</c>, for
            <c>double</c> is <c>0.0</c>, for <c>boolean</c> is <c>false</c>, and
            for a reference type (like <c>String</c> or a class you have
            created) is <c>null</c>.
          </p>
        </li>

        <li>
          <p>
            (AP 4.3.A.4) Initializer lists can be used to create and initialize
            arrays.
          </p>
        </li>

        <li>
          <p>
            (AP 4.3.A.5) Square brackets <c>[]</c> are used to access and modify
            an element in a 1D (one dimensional) array using an index.
          </p>
        </li>

        <li>
          <p>
            (AP 4.3.A.6) The valid index values for an array are <c>0</c>
            through one less than the length of the array, inclusive. Using an
            index value outside of this range will result in an
            <c>ArrayIndexOutOfBoundsException</c>.
          </p>
        </li>
      </ul>
    </p>
  </subsection>

  <subsection xml:id="ap-practice-25">
    <title>AP Practice</title>
    <p>
      We will see in the next lesson that the index of an array is often a
      variable named <c>i</c> that is used in loops to traverse an array. In
      challenging AP problems, you will see mathematical expressions inside the
      square brackets (<c>[]</c>). For example, <c>array[i-1]</c> refers to the
      previous element right before the ith element in array, and
      <c>array[i+1]</c> refers to the next element after the ith element. In the
      problems below, note that arrays can be passed in as arguments to methods
      and returned as values, just like any variable.
    </p>

    <activity label="AP-array1">
      <statement>
        <p>
          Consider the following method. Given an <c>array</c> initialized to
          <c>{4, 10, 15}</c>, which of the following represents the contents of
          the array after a call to <c>mystery(array, 2)</c>?
        </p>

        <program language="java">
          <code>
public void mystery(int[] a, int i)
{
   a[i] = a[i-1] * 2;
}
</code>
        </program>
      </statement>

      <choices>
        <choice>
          <statement>
            <p>[8, 20, 30]</p>
          </statement>

          <feedback>
            <p>
              This would only be true if all elements were doubled by the
              method.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>[4, 8, 15]</p>
          </statement>

          <feedback>
            <p>
              This would only be true if the call was ``mystery(array, 1)``.
              Remember that array indexing starts at 0.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>[8, 10, 15]</p>
          </statement>

          <feedback>
            <p>
              This would only be true if the method body had ``a[i-1] = a[i-1] *
              2;``
            </p>
          </feedback>
        </choice>

        <choice correct="yes">
          <statement>
            <p>[4, 10, 20]</p>
          </statement>

          <feedback>
            <p>Correct. array[2] = array[1] * 2 = 10 * 2 = 20.</p>
          </feedback>
        </choice>

        <choice>
          <statement>
            <p>[4, 8, 30]</p>
          </statement>

          <feedback>
            <p>Note that only 1 array element is changed.</p>
          </feedback>
        </choice>
      </choices>
    </activity>

    <activity label="AP-array2">
      <statement>
        <p>
          Consider the following method. Which of the following code segments,
          appearing in the same class as the <c>mystery</c> method, will result
          in <c>array2</c> having the contents <c>{5, 10, 20}</c>?
        </p>

        <program language="java">
          <code>
public int[] mystery(int[] a, int i, int value)
{
   a[i + 1] = a[i] + value;
   return a;
}
</code>
        </program>
      </statement>

      <choices>
        <choice>
          <statement id="AP-array2_opt_a">
            <program language="java">
              <code>
int[] array1 = {5, 10, 15};
int[] array2 = mystery(array1, 0, 10);
</code>
            </program>
          </statement>

          <feedback id="AP-array2_opt_a">
            <p>
              This would result in <c>{5, 15, 15}</c>.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement id="AP-array2_opt_b">
            <program language="java">
              <code>
int[] array1 = {5, 15, 20};
int[] array2 = mystery(array1, 0, 0);
</code>
            </program>
          </statement>

          <feedback id="AP-array2_opt_b">
            <p>
              This would result in <c>{5, 5, 20}</c>.
            </p>
          </feedback>
        </choice>

        <choice correct="yes">
          <statement id="AP-array2_opt_c">
            <program language="java">
              <code>
int[] array1 = {5, 10, 15};
int[] array2 = mystery(array1, 1, 10);
</code>
            </program>
          </statement>

          <feedback id="AP-array2_opt_c">
            <p>
              Correct! a[i+1] = a[2] = a[i] + value = a[1] + 10 = 10 + 10 = 20.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement id="AP-array2_opt_d">
            <program language="java">
              <code>
int[] array1 = {5, 15, 20};
int[] array2 = mystery(array1, 2, 0);
</code>
            </program>
          </statement>

          <feedback id="AP-array2_opt_d">
            <p>
              This would result in an <c>ArrayIndexOutOfBoundsException</c>.
            </p>
          </feedback>
        </choice>

        <choice>
          <statement id="AP-array2_opt_e">
            <program language="java">
              <code>
int[] array1 = {5, 10, 15};
int[] array2 = mystery(array1, 1, 20);
</code>
            </program>
          </statement>

          <feedback id="AP-array2_opt_e">
            <p>
              This would result in <c>{5, 10, 30}</c>.
            </p>
          </feedback>
        </choice>
      </choices>
    </activity>
  </subsection>

  <subsection xml:id="arrays-game">
    <title>Arrays Game</title>
    <p>
      Try the game below to practice arrays. Click on <term>Arrays</term> and
      click on the element of the * array that would be printed out by the given
      code. If you’re stuck, check on Labels to see the indices. We encourage
      you to work in pairs and see how high a score you can get.
    </p>

    <p>
      <interactive iframe="iframe/csagames.html" width="95%" aspect="1:1" />
    </p>
  </subsection>
</section>

