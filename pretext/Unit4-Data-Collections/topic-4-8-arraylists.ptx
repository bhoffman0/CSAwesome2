<?xml version="1.0"?>
<!-- Generated by Docutils 0.17.1 -->
<section>
  <title>Intro to ArrayLists</title><introduction>
    
    <figure align="left">
    <caption xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">A couple of lists</caption>
    <image source="Unit4-Data-Collections/Figures/lists.jpg" width="54%%"/>
  </figure>
    <p>In the last unit, we learned about using arrays to hold collections of related
            data. However arrays are not very flexible. Most notably, the size of an array
            is established at the time of creation and cannot be changed. What if you don’t
            know how big the collection of data will be? What if you want to both add and
            remove items from a collection? For example, if you wanted to represent a
            shopping list, you might add to the list throughout the week and remove things
            from the list while you are shopping. You probably would not know how many items
            will be on the list at the beginning of the week.</p>
    <p>For cases like this, Java has a class called <c>ArrayList</c> which is a re-sizable
            list. It is called <c>ArrayList</c> because it stores the items that have been
            added to it in an underlying array. But it also takes care of keeping track of
            how many items have been added to the array and it will create a new bigger
            array under the covers when needed to hold more items.</p>
    <p>You can use <c>ArrayList</c> instead of arrays whenever you don’t know the size of
            the array you need or you know that you will add and remove items and may need
            to change the array’s size dynamically during run time. An <c>ArrayList</c> is
            <term>mutable</term>, meaning it can change during run time by adding and removing objects
            from it.</p>
    <note>
            <p>An <c>ArrayList</c> is often called just a list on the CSA exam. Prior to 2020
                the AP CSA curriculum included <term>interfaces</term> which are somewhat like classes
                and the interface <c>List</c> was often used to declare a variable that would
                refer to an <c>ArrayList</c>. Interfaces are no longer on the exam, but if you
                see <c>List</c> being used in an old exam question just assume it’s an
                <c>ArrayList</c>.</p>
        </note>
  </introduction>
  <subsection>
            <title>Packages and imports</title>
            
            
            <p>The <c>ArrayList</c> class is in the <c>java.util</c> package. A <term>package</term> is a set
                or library of related classes. The classes we have used until now, such as
                <c>String</c> and <c>Math</c>, are in the special package <c>java.lang</c> whose classes
                are always available in any Java program. Other packages, such as <c>java.util</c>,
                provide classes that can only be used either by <term>importing</term> them or (much more
                rarely) by referring to them by their full name which includes the package as a
                prefix. The full name of <c>ArrayList</c> is thus <c>java.util.ArrayList</c> but
                rather than type that out all the time, in any class where we want to use
                <c>ArrayList</c> we will usually import it with an <c>import</c> statement.</p>
            <p>Import statements have to come before the class definition in a Java source file
                and serve to tell Java which class you mean when you use a short name like
                <c>ArrayList</c>. To import just one class we use a single <c>import</c> of the
                fully-qualified name of the class like this:</p>
            <program language="java"><input>
// Import just the ArrayList class from java.util
import java.util.ArrayList;
</input></program>
            
            
            <p>After such an import statement, anywhere <c>ArrayList</c> is used as a class name
                in the file it will be taken to mean <c>java.util.ArrayList</c>.</p>
            <p>Another option is to import all the classes in a package with a “wildcard” import:</p>
            <program language="java"><input>
// Import everything in java.util including ArrayList
import java.util.*;
</input></program>
            <p>This import statement will also cause, <c>ArrayList</c> to refer
                <c>java.util.ArrayList</c>. But many other names of classes defined in the
                <c>java.util</c> package will also be available whether you use them or not. (One
                that you have probably used by now is <c>Scanner</c> which can be used to read
                input a user types at the command line.) Using wildcard imports can cause
                conflicts if you import all the classes from two different packages and they
                have class names in common but usually that’s not a problem, at least with
                packages that are part of Java itself.</p>
            <note>
                <p>Don’t worry about adding import statements on the AP CSA exam.  Any that you need will be provided for you.</p>
            </note>

    <exercise label="qlib_1">
        <statement>

            <p> Which of the following is true about import statements?</p>

        </statement>
<choices>

            <choice>
                <statement>
                    <p>You can only have one import statement in a source file.</p>
                </statement>
                <feedback>
                    <p>You can have an many import statements as you need.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>You must specify the class to import.</p>
                </statement>
                <feedback>
                    <p>You can use * to import all classes at the specified level.</p>
                </feedback>
            </choice>

            <choice correct="yes">
                <statement>
                    <p>Import statements must be before other code in a Java source file.</p>
                </statement>
                <feedback>
                    <p>Import statements have to be the first Java statements in a source file.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>You must import java.lang.String to use the short name of String.</p>
                </statement>
                <feedback>
                    <p>You do not have to import any classes that are in the java.lang package.</p>
                </feedback>
            </choice>
</choices>

    </exercise>
        </subsection>
  <subsection>
            <title>Declaring and Creating ArrayLists</title>
            <p>To declare a ArrayList use <c>ArrayList&lt;Type&gt; name</c> where <em>Type</em>, called a
                <term>type parameter</term> is the type of objects you want to store in the ArrayList.
                For example a variable naming an <c>ArrayList</c> meant to hold <c>String</c>s is
                declared as <c>ArrayList&lt;String&gt;</c> as shown in the code below. You can declare a
                variable to just be of type <c>ArrayList</c>, with no type parameter, and it’ll be
                approximately the same as if you had declared <c>ArrayList&lt;Object&gt;</c>, but it is
                good practice to specify the type of objects you intend to store in an
                <c>ArrayList</c> as it allows the compiler to find errors that would otherwise be
                missed until run time.</p>
            <program language="java"><input>
// ArrayList&lt;Type&gt; name = new ArrayList&lt;Type&gt;();
// An ArrayList of Strings:
ArrayList&lt;String&gt; shoppingList = new ArrayList&lt;String&gt;();
</input></program>
            <note>
                <p><c>ArrayList</c>s can only hold reference types like <c>String</c>. Since they
                    can’t hold primitive types like <c>int</c> and <c>double</c>, if we want a
                    collection of numbers we need to use the wrapper classes <c>Integer</c> or
                    <c>Double</c>. However, because of autoboxing, if you declare an
                    <c>ArrayList&lt;Integer&gt;</c> or <c>ArrayList&lt;Double&gt;</c> you can mostly treat the
                    elements of the <c>ArrayList</c> as if they were in fact <c>int</c>s or
                    <c>double</c>s.</p>
            </note>

<exercise label="ArrayListDeclare">
    <statement>
            <p>In the code below we are declaring a variable called <c>nameList</c> that can
                refer to a <c>ArrayList</c> of strings, but currently doesn’t refer to any
                <c>ArrayList</c> yet as it’s set to <c>null</c>.</p>

    </statement>
    <program interactive="activecode" language="java">
        <input>
import java.util.*; // import for ArrayList

public class ArrayListDeclare
{
    public static void main(String[] args)
    {
        ArrayList&lt;String&gt; nameList = null;
        System.out.println(nameList);
    }
}

 </input><tests>
 import static org.junit.Assert.*;

 import org.junit.*;

 import java.io.*;

 public class RunestoneTests extends CodeTestHelper
 {
     public RunestoneTests()
     {
         super("ArrayListDeclare");
     }

     @Test
     public void test1()
     {
         String output = getMethodOutput("main");
         String expect = "null";

         boolean passed = getResults(expect, output, "main()", true);
         assertTrue(passed);
     }
 }
        </tests>
    </program>
</exercise>
            <p>As with other reference types, declaring a <c>ArrayList</c> variable doesn’t
                actually create a <c>ArrayList</c> object. It only creates a variable that can
                refer to a <c>ArrayList</c> or <c>null</c>. To actually create a <c>ArrayList</c> we must
                invoke a constructor such as <c>new ArrayList&lt;String&gt;()</c>.</p>
            <p>You can get the number of items in a <c>ArrayList</c> using the <c>size()</c> method.
                Notice that a newly constructed <c>ArrayList</c> is empty and thus has a size of 0.
                Also remember that you can’t call methods on <c>null</c> so trying to call <c>size</c>
                on the value of <c>list2</c> at line 10 below causes a <c>NullPointerException</c>.</p>

<exercise label="ArrayListCreateStr">
    <statement>
            <p>The following code demonstrates a NullPointerException. Change the list2 declaration so that it creates a new ArrayList to remove the NullPointerException.</p>

    </statement>
    <program interactive="activecode" language="java">
        <input>
import java.util.*; // import needed for ArrayList

public class ArrayListCreateStr
{
    public static void main(String[] args)
    {
        ArrayList&lt;String&gt; nameList = new ArrayList&lt;String&gt;();
        System.out.println("The size of nameList is: " + nameList.size());
        ArrayList&lt;String&gt; list2 = null;
        System.out.println("The size of list2 is: " + list2.size());
    }
}

</input><tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("ArrayListCreateStr");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "The size of nameList is: 0\nThe size of list2 is: 0";

        boolean passed = getResults(expect, output, "main()", true);
        assertTrue(passed);
    }
}
        </tests>
    </program>
</exercise>
            <p>You can also create ArrayLists of integer and double values. However, you have
                to use <c>Integer</c> or <c>Double</c> as the type parameter because <c>ArrayList</c>s
                can only hold objects, not primitive values. All primitive types must be
                <term>wrapped</term> in objects before they are added to an ArrayList. For example,
                <c>int</c> values can be wrapped in <c>Integer</c> objects, <c>double</c> values can be
                wrapped in <c>Double</c> objects. However this normally happens automatically
                thanks to autoboxing.</p>
            <p>You can actually put in any kind of objects in an <c>ArrayList</c>, including
                instances of classes that you write, such as the <c>Student</c>, <c>Person</c>, or
                <c>Pet</c> classes from Unit 5.</p>

<exercise label="ArrayListCreateInt">
    <statement>
            <p>Here’s an example of a Integer ArrayList.</p>

    </statement>
    <program interactive="activecode" language="java">
        <input>
import java.util.*;

public class ArrayListCreateInt
{
    public static void main(String[] args)
    {
        ArrayList&lt;Integer&gt; numList = new ArrayList&lt;Integer&gt;();
        System.out.println(numList.size());
    }
}

</input><tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("ArrayListCreateInt");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "0";

        boolean passed = getResults(expect, output, "main()", true);
        assertTrue(passed);
    }
}
        </tests>
    </program>
</exercise>

    <exercise label="qArrayListInteger">
        <statement>

            <p> Which of the following is the correct way to create an ArrayList of integers?</p>

        </statement>
<choices>

            <choice>
                <statement>
                    <p>ArrayList[int] numbers = new ArrayList();</p>
                </statement>
                <feedback>
                    <p>The square brackets [] are only used with arrays, not ArrayLists.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>ArrayList&lt;String&amp;gt; numbers = new ArrayList();</p>
                </statement>
                <feedback>
                    <p>String is not the correct type since this is for an array of integers, and the type should be next to ArrayList on both sides.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>ArrayList&lt;int&amp;gt; numbers = new ArrayList&lt;int&amp;gt;();</p>
                </statement>
                <feedback>
                    <p>ArrayLists cannot hold primitive types like int. You must use the wrapper class Integer.</p>
                </feedback>
            </choice>

            <choice correct="yes">
                <statement>
                    <p>ArrayList&lt;Integer&amp;gt; numbers = new ArrayList&lt;Integer&amp;gt;();</p>
                </statement>
                <feedback>
                    <p>The wrapper class Integer is used to hold integers in an ArrayList.</p>
                </feedback>
            </choice>
</choices>

    </exercise>
            <p>Although it is not on the AP exam, you can convert an array to a <c>List</c> using
                the static method <c>asList</c> from the <c>Arrays</c> helper class:
                <c>Arrays.asList(arrayname)</c>. Note that <c>ArrayList</c> has a <c>toString</c> method
                that is automatically called to print the list in a nice format.</p>

<exercise label="ArrayListFromArray">
    <statement>
            <p>Example code creating an ArrayList from an array.</p>

    </statement>
    <program interactive="activecode" language="java">
        <input>
import java.util.*;

public class ArrayListFromArray
{
    public static void main(String[] args)
    {
        String[] names = {"Dakota", "Madison", "Brooklyn"};
        ArrayList&lt;String&gt; namesList = new ArrayList&lt;String&gt;(Arrays.asList(names));
        System.out.println(namesList);
    }
}

</input><tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("ArrayListFromArray");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "[Dakota, Madison, Brooklyn]";

        boolean passed = getResults(expect, output, "main()", true);
        assertTrue(passed);
    }
}
        </tests>
    </program>
</exercise>
            <p>You can add values to an <c>ArrayList</c> using its <term>add</term> method, described in
                detail in the next lesson. Try the code below. Note that the type of the
                <c>ArrayList</c>, <c>String</c> or <c>Integer</c>, also determines the type of parameters
                and return types for all of its methods, so add and print work for any type of
                <c>ArrayList</c>. And when the <c>ArrayList</c> is a list of <c>Integer</c>s,
                autoboxing takes care of wrapping the <c>int</c> arguments like <c>2</c> and <c>4</c>
                into instances of <c>Integer</c> for us.</p>

<exercise label="listAdd">
    <statement>
            <p>Can you add another item to the shopping list?</p>

    </statement>
    <program interactive="activecode" language="java">
        <input>
import java.util.*;

public class Shopping
{
    public static void main(String[] args)
    {
        ArrayList&lt;String&gt; shoppingList = new ArrayList&lt;String&gt;();
        System.out.println("Size: " + shoppingList.size());
        shoppingList.add("carrots");
        System.out.println(shoppingList);
        shoppingList.add("bread");
        System.out.println(shoppingList);
        shoppingList.add("chocolate");
        System.out.println(shoppingList);
        System.out.println("Size: " + shoppingList.size());
        ArrayList&lt;Integer&gt; quantities = new ArrayList&lt;Integer&gt;();
        quantities.add(2);
        quantities.add(4);
        System.out.println(quantities);
    }
}

</input><tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("Shopping");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect =
                "Size: 0\n"
                    + "[carrots]\n"
                    + "[carrots, bread]\n"
                    + "[carrots, bread, chocolate]\n"
                    + "Size: 3\n"
                    + "[2, 4]";

        boolean passed = !output.equals(expect);

        passed = getResults(expect, output, "Changed code", passed);
        assertTrue(passed);
    }
}
        </tests>
    </program>
</exercise>
        </subsection>
  <subsection>
            <title>Coding Challenge : FRQ Digits</title>
            <p>This coding challenge is based on the <url href="https://apcentral.collegeboard.org/pdf/ap-computer-science-a-frq-2017.pdf?course=ap-computer-science-a" visual="https://apcentral.collegeboard.org/pdf/ap-computer-science-a-frq-2017.pdf?course=ap-computer-science-a">2017 Free Response Question</url> part 1a on the 2017 AP CSA
                exam. In this question, you are asked to write a constructor for a class called
                <c>Digits</c>. This constructor takes an integer number as its argument and divides
                it up into its digits and puts the digits into an <c>ArrayList</c>. For example,
                <c>new Digits(154)</c> creates an ArrayList with the digits [1, 5, 4].</p>
            <p>First, let’s discuss how to break up a number into its digits. Try the code
                below. What happens if you divide an integer by 10? Remember that in integer
                division the result truncates (cuts off) everything to the right of the decimal
                point. Which digit can you get by using <c>% 10</c> which returns the remainder
                after dividing by 10? Try a different number and guess what it will print and
                then run to check.</p>

<exercise label="divideby10">
    <statement>
            <p>Set number to a different number and guess what number / and % will return. Which operator gives you a digit in number?</p>

    </statement>
    <program interactive="activecode" language="java">
        <input>
public class DivideBy10
{
    public static void main(String[] args)
    {
        int number = 154;
        System.out.println(number / 10);
        System.out.println(number % 10);
    }
}

</input><tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("DivideBy10");
    }

    @Test
    public void test1()
    {
        String origCode =
                "public class DivideBy10{public static void main(String[] args){int number ="
                    + " 154;System.out.println(number / 10);System.out.println(number % 10);}}";

        boolean changed = codeChanged(origCode);

        assertTrue(changed);
    }
}
        </tests>
    </program>
</exercise>
            <p>We can use a while loop to print out each digit in reverse order starting from
                the right (4, 5, 1 for the number 154) while dividing it by 10. You can try it
                in the active code above. Here is the pseudocode:</p>
            <p><ul>
                <li>
                    <p>while number is greater than 0</p>
                    <p><ul>
                        <li>
                            <p>print out the last digit using %</p>
                        </li>
                        <li>
                            <p>change the number to cut off the last digit using /</p>
                        </li>
                    </ul></p>
                </li>
            </ul></p>
            <p>Now, let’s write a constructor for the <c>Digits</c> class that uses this loop and
                adds each found digit to the <c>ArrayList</c> instead of printing it out. You can
                use a special method called <c>Collections.reverse(digitsList);</c> to reverse the
                order of the digits in the <c>ArrayList</c> after the loop to get them in the right
                order. In the next lesson, we will also learn how to use a different <c>add</c>
                method that adds in elements at any index instead of the end.</p>

<exercise label="challenge-7-1-digits">
    <statement>
            <p>Complete the challenge below to put the digits of a number in an ArrayList.</p>

    </statement>
    <program interactive="activecode" language="java">
        <input>
import java.util.*;

public class Digits
{
    /** A list of digits */
    private ArrayList&lt;Integer&gt; digitList;

    /** Constructs a list of digits from the given number */
    public Digits(int number)
    {
        // initialize digitList to an empty ArrayList of Integers

        // Use a while loop to add each digit in number to digitList

        // Use Collections.reverse(digitList); to reverse the digits

    }

    /** returns the string representation of the digits list */
    public String toString()
    {
        return digitList.toString();
    }

    public static void main(String[] args)
    {
        Digits d1 = new Digits(154);
        System.out.println(d1);
    }
}

</input><tests>
import static org.junit.Assert.*;

import org.junit.*;

import java.io.*;

public class RunestoneTests extends CodeTestHelper
{
    public RunestoneTests()
    {
        super("Digits");
    }

    @Test
    public void test1()
    {
        String output = getMethodOutput("main");
        String expect = "[1, 5, 4]";

        boolean passed = getResults(expect, output, "Digits(154)");
        assertTrue(passed);
    }

    @Test
    public void test2()
    {
        Digits test = new Digits(123456);
        String output = test.toString();
        String expect = "[1, 2, 3, 4, 5, 6]";

        boolean passed = getResults(expect, output, "Digits(123456)");
        assertTrue(passed);
    }
}
        </tests>
    </program>
</exercise>
        </subsection>
  <subsection>
            <title>Summary</title>
            <p><ul>
                <li>
                    <p><c>ArrayList</c>s are re-sizable lists that allow adding and removing items to
                        change their size during run time.</p>
                </li>
                <li>
                    <p>The <c>ArrayList</c> class is in the <c>java.util</c> package. You must import
                        <c>java.util.ArrayList</c> or <c>java.util.*</c> to use it.</p>
                </li>
                <li>
                    <p>An <c>ArrayList</c> object contains object references and is mutable, meaning it
                        can change (by adding and removing items from it).</p>
                </li>
                <li>
                    <p>The <c>ArrayList</c> constructor <c>ArrayList()</c> constructs an empty list of size 0.</p>
                </li>
                <li>
                    <p>Java allows the generic type <c>ArrayList&lt;E&gt;</c>, where the generic type <c>E</c>
                        specifies the type of the elements, like <c>String</c> or <c>Integer</c>. Without
                        it, the type will be <c>Object</c>.</p>
                </li>
                <li>
                    <p><c>ArrayList&lt;E&gt;</c> is preferred over <c>ArrayList</c> because it allows the
                        compiler to find errors that would otherwise be found at run time.</p>
                </li>
                <li>
                    <p>When <c>ArrayList&lt;E&gt;</c> is specified, the types of the reference parameters and
                        return type when using its methods are type <c>E</c>.</p>
                </li>
                <li>
                    <p><c>ArrayList</c>s cannot hold primitive types like <c>int</c> or <c>double</c>, so
                        you must use the wrapper classes <c>Integer</c> or <c>Double</c> to put numerical
                        values into an <c>ArrayList</c>. However autoboxing usually takes care of that
                        for you.</p>
                </li>
            </ul></p>
        </subsection>
  <exercises>
    <exercise label="qloopList">
        <statement>

        <p> Which of the following is a reason to use an ArrayList instead of an array?</p>

        </statement>
<choices>

            <choice>
                <statement>
                    <p>An ArrayList will always use less memory than an array.</p>
                </statement>
                <feedback>
                    <p>No, An ArrayList grows as needed and is typically bigger than the data put into it. If the underlying array in an ArrayList is full when adding in new data, it usually doubles in size.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>An ArrayList can store objects, but arrays can only store primitive types.</p>
                </statement>
                <feedback>
                    <p>No, you can have an array of objects.</p>
                </feedback>
            </choice>

            <choice>
                <statement>
                    <p>An ArrayList has faster access to the last element than an array.</p>
                </statement>
                <feedback>
                    <p>No, an ArrayList is implemented using an array so it has the same access time to any index as an array does.</p>
                </feedback>
            </choice>

            <choice correct="yes">
                <statement>
                    <p>An ArrayList resizes itself as necessary as items are added, but an array does not.</p>
                </statement>
                <feedback>
                    <p>An ArrayList is really a dynamic array (one that can grow or shrink as needed).</p>
                </feedback>
            </choice>
</choices>

    </exercise>
  </exercises>
</section>
